Actor BulletBlast
{
	Radius 1
	Height 1
	RenderStyle Add
	Alpha .5
	XScale 0.5
	YScale 0.45
	+DONTSPLASH
	+NOINTERACTION
	+FORCEXYBILLBOARD
	+NOBLOCKMAP
	+NOCLIP
	+NOGRAVITY
	-ACTIVATEPCROSS
	-ACTIVATEIMPACT
	States
	{
	Spawn:
		PBLS ABCDE 1 BRIGHT
		stop
	Death:
		TNT1 A 1
		stop
	}
}

Actor BulletSmoke
{
	Radius 1
	Height 1
	Speed  0
	RenderStyle Add
	Alpha 0.5
	Scale 0.15
	+DONTSPLASH
	+FORCEXYBILLBOARD
	+NOCLIP
	+NOBLOCKMAP
	+NOGRAVITY
	+NOINTERACTION
	-ACTIVATEPCROSS
	-ACTIVATEIMPACT
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_JumpIf(Waterlevel == 3, "InWater")
		SMO2 ABCDEFGHIJKLMNOPQ 2
		stop
	InWater:
		TNT1 AA 0 BRIGHT A_SpawnItemEX("Bubble", Random(-4,4), Random(-4,4), Random(-4,4), 0, 0, Random(1,2), 0, 128, 76)
		TNT1 A 1
		stop
	}
}

Actor BulletSmoke2
{
	Radius 1
	Height 1
	Speed  0
	RenderStyle Add
	Alpha 0.4
	Scale 0.4
	+DONTSPLASH
	+FORCEXYBILLBOARD
	+NOCLIP
	+NOBLOCKMAP
	+NOGRAVITY
	+NOINTERACTION
	-ACTIVATEPCROSS
	-ACTIVATEIMPACT
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_JumpIf(Waterlevel == 3, "InWater")
		PUF2 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
		PUF3 ABC 1
		stop
	InWater:
		TNT1 AA 0 BRIGHT A_SpawnItemEX("Bubble", Random(-4,4), Random(-4,4), Random(-4,4), 0, 0, Random(1,2), 0, 128, 0)
		TNT1 A 1
		stop
	}
}

Actor BulletDebris
{
	Radius 1
	Height 1
	Speed  3
	Damage 0
	Health 1
	RenderStyle Translucent
	Alpha 1.0
	Scale 0.15
	Gravity 0.6
	PROJECTILE
	+HEXENBOUNCE
	+DONTSPLASH
	+FORCEXYBILLBOARD
    -ACTIVATEIMPACT
	-ACTIVATEPCROSS
	-NOGRAVITY
	States
	{
	Spawn:
		DEBR A 0
		DEBR A 0 A_Jump(128, "Spawn2", "Spawn3", "Spawn4")
		DEBR A 6
		goto Fade1
	Fade1:
		DEBR A 1 A_Fadeout(0.08)
		loop
	Spawn2:
		DEBR B 6
		goto Fade2
	Fade2:
		DEBR B 1 A_Fadeout(0.08)
		loop
	Spawn3:
		DEBR C 6
		goto Fade3
	Fade3:
		DEBR C 1 A_Fadeout(0.08)
		loop
	Spawn4:
		DEBR D 6
		goto Fade4
	Fade4:
		DEBR D 1 A_Fadeout(0.08)
		loop
	Death:
		TNT1 A 1
		stop
	}
}

actor RicochetSpawner
{
	+NOINTERACTION
	+CLIENTSIDEONLY
	+ALLOWCLIENTSPAWN
	+INVISIBLE
	+NOCLIP
	states
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_JumpIf(Waterlevel == 3, "InWater")
		TNT1 A 1 A_CustomMissile("RicochetSpark",5,0,Random(-360,360), 2, random(-360, 360))
		stop
	InWater:
		TNT1 A 1
		stop
	}
}

Actor RicochetSpark
{
	Radius 0
	Height 1
	Speed  18
	Damage 0
	Health 1
	RenderStyle Add
	Alpha 0.5
	PROJECTILE
	+DOOMBOUNCE
	+CLIENTSIDEONLY
	+DONTSPLASH
    +FORCEXYBILLBOARD
    -ACTIVATEPCROSS
    -ACTIVATEIMPACT
	States
	{
	Spawn:
		TNT1 A 0
		TNT1 A 0 A_Playsound("Ricochet")
		ORAN A 7 Bright
		stop
	Death:
		TNT1 A 1 Bright
		TNT1 A 1 Bright
		Stop
	}
}

actor NewBulletPuffSpark
{
	Radius 2
	Height 2
	Speed 0
	RenderStyle Add
	Alpha 1.0
	Scale 0.45
	Gravity 0.3
	Projectile
	+DONTSPLASH
	+FORCEXYBILLBOARD
	+NOTELEPORT
	-ACTIVATEIMPACT
	-ACTIVATEPCROSS
	-NOGRAVITY
	States
	{
	Spawn:
		ORAN A 0
		ORAN A 0 BRIGHT A_JumpIf(Waterlevel == 3, "Death")
		ORAN A 1 BRIGHT A_FadeOut(0.1)
		goto Spawn+1
	Death:
		TNT1 AA 1
		stop
	}
}

actor NewBulletPuff : BulletPuff Replaces BulletPuff
{
	Decal Bulletchip
	VSpeed 0
	RenderStyle Add
	Alpha 1.0
	+PUFFONACTORS
	+FORCEXYBILLBOARD
	+PUFFGETSOWNER
	+NOINTERACTION
	-ALLOWPARTICLES
	-RANDOMIZE
	states
	{
	Spawn:
		TNT1 A 0
		TNT1 A 1 A_GiveToTarget("HitConfirmation", 1)
		stop
	Crash:
		PUFF A 0
		PUFF AAA 0 A_SpawnItemEx("BulletDebris", 0, 0, 0, random(-2,2), random(-2,2), random(1,6), random(-360,360), 128, 64)
		PUFF A 0 A_SpawnItemEX("BulletBlast", 0, 0, 0, 0, 0, 0, 0, 128, 246)
		PUFF AAAAAAAA 0 A_SpawnItemEx("NewBulletPuffSpark", 0, 0, 0, random(-1,1), random(-1,1), random(-1,1), random(-360,360), 128, 32)
		PUFF A 0 A_SpawnItemEX("RicochetSpawner", 0, 0, 0, 0, 0, 0, 0, 128, 224)
		goto Puff
	Puff:
		PUFF A 2 bright
		PUFF B 1 bright
		goto Smoke
	Smoke:
		PUFF B 0 A_Jump(64, "Smoke2")
		PUFF B 0 A_SpawnItemEX("BulletSmoke", 0, 0, 0, 0, 0, 1, 0, 128, 0)
		stop
	Smoke2:
		PUFF A 0 A_SpawnItemEX("BulletSmoke2", 0, 0, 0, 0, 0, 1, 0, 128, 0)
		stop
	Melee:
		PUFF CD 4
		stop
	}
}

actor SilverBulletPuff : NewBulletPuff
{
	states
	{
	Puff:
		PUFS A 2 bright
		PUFS B 1 bright
		goto Smoke
	}
}

actor QuadPuff : NewBulletPuff
{
	DamageType "BlowBack"
}

actor FistPuff : BulletPuff
{
	DamageType "Fist"
	SeeSound "*fist"
	AttackSound "BootHit"
}

actor KickPuff : FistPuff
{
	+PUFFGETSOWNER
	obituary "%k kicked %o's ass."
	States
	{
		Melee:
		PUFF C 0 A_PlaySound("DukeKick")
		PUFF CD 2
		stop
	}
}

actor FistPuff2 : BulletPuff
{
	SeeSound "*fist"
	AttackSound "BootHit"
}

actor FistPuff3 : BulletPuff
{
	DamageType "Fist"
	SeeSound "*fist"
	AttackSound "skeleton/melee"
}

actor FistPuff4 : BulletPuff
{
	SeeSound "*fist"
	AttackSound "skeleton/melee"
}

actor KickPuff2 : FistPuff2
{
	+PUFFGETSOWNER
	obituary "%k kicked %o's ass."
	States
	{
		Melee:
		PUFF C 0 A_PlaySound("DukeKick")
		PUFF CD 2
		stop
	}
}

actor BootHit
{
	radius 1
	height 1
	+PUFFONACTORS
	States
	{
	Spawn:
	 TNT1 A 0
	 TNT1 A 1 A_Playsound("BootHit")
	 stop
	}
}

ACTOR HeadLight
{
   +PUFFONACTORS
   +NOBLOCKMAP
   +BLOODLESSIMPACT
   +DROPOFF
   -BLOODSPLATTER
   States
   {
   Spawn:
	  NULL A 2 BRIGHT
	  stop
   }
}

ACTOR SaberPuff
{
   +NOBLOCKMAP
   +DROPOFF
   +LOWGRAVITY
   +THRUGHOST
   +GHOST
   +NODAMAGETHRUST
   +FORCEXYBILLBOARD
   States
   {
   Spawn:
	  SPRK A 0
	  SPRK A 0 A_Jump(100, "SparkSound")
	  SPRK A 4 BRIGHT
	  SPRK B 4 BRIGHT
	  SPRK C 4 BRIGHT
	  SPRK D 4 BRIGHT
	  Stop
   SparkSound:
	  SPRK A 0 BRIGHT A_PlaySoundEX("saberhit", AUTO, 0)
	  goto Spawn+2
   }
}

actor DukeShotgunBulletPuff : NewBulletPuff
{
	+PUFFGETSOWNER
	obituary "%o ate %k's load."
}

ACTOR ExpanderPuff
{
    Radius 8
    Height 8
    Speed 0
    Scale 0.75
    Alpha 0.85
    Projectile
    Renderstyle Add
    obituary "%o was deep-fried by %k."
    +PUFFONACTORS
    +PUFFGETSOWNER
    DamageType Microwave
    States
    {
    Spawn:
      TNT1 A 0
      TNT1 A 0 A_PlaySound("DeepFry")
      TNT1 A 0 A_GiveToTarget("HitConfirmation", 1)
      goto Crash
    Crash:
      EXPP E 2 BRIGHT
      EXPP A 4 BRIGHT
      EXPP B 4 BRIGHT
      EXPP C 4 BRIGHT
      EXPP D 4 BRIGHT
      EXPP E 2 BRIGHT
      Stop
    }
}

ACTOR FreezeShock
{
	Radius 16
	Height 8
	Speed 0
	Scale 0.82
	Alpha 0.75
	Projectile
	Renderstyle Add
	obituary "%o suffered from cold shock due to %k's freezebolt!"
	+PUFFONACTORS
	+FIXMAPTHINGPOS
	+BLOODLESSIMPACT
	+PUFFGETSOWNER
	-BLOODSPLATTER
	+FORCEXYBILLBOARD
	DamageType "Ice"
	States
	{
	Spawn:
  		TNT1 A 0
  		TNT1 A 0 A_GiveToTarget("HitConfirmation", 1)
  		goto Crash
	Crash:
	  BOLT A 0
	  BOLT A 0 A_Playsound("Freezehit")
	  BOLT ABCDEFGHIJKL 2 BRIGHT
	  Stop
	}
}

actor BlazeFlames : Rocketfire
{
	Scale 0.25
	+MISSILE
	+NOINTERACTION
	States
	{
		Death:
			TNT1 AA 1
			stop
	}
}

actor BlazePuff
{
	Radius 8
	Height 8
	Scale 0.3
	DamageType "Fire"
	+PUFFONACTORS
	+PUFFGETSOWNER
	+FORCEXYBILLBOARD
	+NOGRAVITY
	+NOBLOCKMAP
	States
	{
		Spawn:
  			TNT1 A 0
  			TNT1 A 0 A_GiveToTarget("HitConfirmation", 1)
  			goto Crash
		Crash:
			TNT1 A 0
			TNT1 A 0 A_PlaySound("vile/firecrkl")
			TNT1 AAAAAAAAAAAAAAAAAAAA 1 A_SpawnItemEx("BlazeFlames", Random(-4,4), Random(-4,4), 0, 0, 0, Random(0,1), 0, 128, 0)
			stop
	}
}

ACTOR BlitzShock
{
    Decal BlitzChip
	Radius 16
	Height 8
	Speed 0
	Scale 0.5
	Alpha 0.9
	Projectile
	Renderstyle Add
	obituary "%o was zapped by %k's blitz ssg!"
	+PUFFONACTORS
	+PUFFGETSOWNER
	+FIXMAPTHINGPOS
	+FORCEXYBILLBOARD
	DamageType "Electric"
	States
	{
	Spawn:
  		TNT1 A 0
  		TNT1 A 0 A_GiveToTarget("HitConfirmation", 1)
  		goto Crash
	Crash:
		YBOL A 0
		YBOL A 0 A_Playsound("Blitzhit")
		YBOL ABCDEFGHIJKL 2 BRIGHT
		Stop
	}
}

actor FrostPuff
{
 Radius 8
 Height 8
 Gravity 0.02
 obituary "%o was frozen to the core by %k's Blizzard SSG."
 DamageType "Ice"
 +PUFFONACTORS
 +PUFFGETSOWNER
 +NOBLOCKMAP
 +FORCEXYBILLBOARD
 States
 {
 	Spawn:
  		TNT1 A 0
  		TNT1 A 0 A_GiveToTarget("HitConfirmation", 1)
  		stop
 	Crash:
 		TNT1 A 0
 		TNT1 A 0 A_PlaySound("IceShot")
 		CRYT ABABABABABCBCBCBCBCBCDCDCDCDCDCDCDCDCDCDCDCD 1
 		stop
 }
}

actor CricketBlast
{
  renderstyle add
  +PUFFONACTORS
  +FIXMAPTHINGPOS
  +NOGRAVITY
  +EXTREMEDEATH
  +PUFFGETSOWNER
//	+FORCERADIUSDMG
  +FORCEXYBILLBOARD
  obituary "%o was reduced to nothing by %k's noisy cricket."
  DamageType "Obliterate"
  alpha 0.9
  Scale 1.4
  states
  {
  Spawn:
	CEXP A 0
	CEXP A 0 A_PlaySound("weapons/grenlx")
	CEXP A 0 A_Explode(500, 200)
	CEXP AAAAAAA 0 A_SpawnItemEX("CricketFire", Random(-8, 8), Random(-8, 8), Random(-8, 8), Random(-5, 5), Random(-5, 5), Random(-5, 5), Random(-360, 360), 128, 0)
	CEXP AAAAAAA 0 A_SpawnItemEX("CricketMist", 0, 0, 0, Random(-12, 12), Random(-12, 12), Random(-12, 12), Random(-360, 360), 128, 0)
	CEXP ABC 3 bright A_SpawnItemEX("CricketFire", Random(-8, 8), Random(-8, 8), Random(-8, 8), Random(-7, 7), Random(-7, 7), Random(-7, 7), Random(-360, 360), 128, 0)
	stop
  }
}

actor CricketFire
{
 Height 1
 Radius 1
 Speed 3
 RenderStyle Add
 Alpha 0.9
 +NOGRAVITY
 +FORCEXYBILLBOARD
 States
 {
 Spawn:
 CEXP AABBCC 2 BRIGHT A_FadeOut
 stop
 }
}

actor CricketMist
{
	Projectile
	Radius 1
	Height 1
	Damage 0
	Speed 10
	Scale 0.4
	RenderStyle Add
	Alpha 1.0
	+FORCEXYBILLBOARD
	+DONTSPLASH
	-BLOODSPLATTER
	+BLOODLESSIMPACT
	States
	{
	Spawn:
		TNT1 A 0
		BLSE ABCDE 1 BRIGHT
		stop
	Death:
		TNT1 A 0
		TNT1 A 1
		stop
	}
}

actor WolfPuff : NewBulletPuff
{
	DamageType "Wolf"
	+BLOODLESSIMPACT
	-BLOODSPLATTER
}

actor LinkSwordSpark : RicochetSpark
{
 +FORCEXYBILLBOARD
 States
 {
 Spawn:
		TNT1 A 0
		ORAN A 7
		stop
 }
}

actor MasterSwordHit
{
 Radius 8
 Height 8
 RenderStyle Add
 Alpha 0.8
 Scale 0.4
 DamageType "Holy"
 obituary "%o was slain by %k's master sword."
 +NOGRAVITY
 +PUFFONACTORS
 +FORCEXYBILLBOARD
 AttackSound LinkSwordWall
 SeeSound LinkSwordHit
 States
 {
  Crash:
  TNT1 A 0
  TNT1 AAAAAAAAA 0 A_CustomMissile("LinkSwordSpark",5,0,Random(-360,360), 2, random(-360, 360))
  Spawn:
  HLPS DEFGH 2 BRIGHT
  stop
 }
}