actor MarineClassCheck : BaseClassCheck
{
}

actor Marine : DoomPlayer Replaces DoomPlayer
{
	Species "Player"
	-CANNOTPUSH
	+FORCERADIUSDMG
	+NOSKIN
	Player.ScoreIcon "MARNICON"
	DamageFactor "Demonic", 0.5
	DamageFactor "Holy", 1.5
	DamageFactor "SpinDash", 2.25
	DamageFactor "Tourettes", 0.0
	DamageFactor "BFG", 0.4375
	DamageFactor "Flak", 0.5
	DamageFactor "Hellfire", 0.5
	player.startitem "NewPistol"
	player.startitem "Melee"
	player.startitem "MechAmmo", 56
	player.startitem "PistolClip", 14
	player.startitem "Silencer", 2
	player.startitem "WrathoftheWickedSpirits"
	player.startitem "MarineClassCheck", 1
	player.startitem "SpecialMove", 2
	player.startitem "FlareCheck", 100
	
	Player.WeaponSlot 1, "Melee", "BloodyChainsaw", "Excalibat", "Lightsaber"
	Player.WeaponSlot 2, "NewPistol", "Magnum", "454Casull"
	Player.WeaponSlot 3, "NewShotgun", "SM_SuperShotgun", "QuadShotgun", "ElementalSSG"
	Player.WeaponSlot 4, "SM_Chaingun", "Mp40", "P90", "Minigun", "SmartRifle"
	Player.WeaponSlot 5, "HellFireCannon", "ProtonGrenadeLauncher", "ProtonTorpedoLauncher"
	Player.WeaponSlot 6, "LaserRifle1", "PlasmaCannon", "Railgun", "Beamer", "Stinger", "ShockRifle"
	Player.WeaponSlot 7, "BFG_SMMP", "BFG10k", "SniperRifle", "NukeLauncher", "Noisy_Cricket"
	Player.WeaponSlot 8, "FreezeBolt", "BioRifle", "Needler", "FlakCannon"
	Player.WeaponSlot 9, "BishopStaff", "WeatherMaker", "EtherealCrossbow", "WrathoftheWickedSpirits"
	Player.WeaponSlot 0, "SoccerKick", "E_Peen_Joke", "IPodLauncher", "GrapplerShot", "GasolineCan", "FlameThrowerWeap"
	
	States
	{
	Spawn:
		PLAY A 0 A_JumpIfInventory("UsingSaber", 1, "SaberSpawn")
		PLAY A 6
		Loop
	SaberSpawn:
		PSAG A 0 BRIGHT A_JumpIfInventory("SaberBlue", 1, "SaberSpawn_Blue")
		PSAG A 0 BRIGHT A_JumpIfInventory("SaberRed", 1, "SaberSpawn_Red")
		PSAG AA 1 BRIGHT A_JumpIf(momx > 2 || momy > 2 || momx < -2 || momy < -2, "SaberSee")
		goto Spawn
	SaberSpawn_Blue:
		PSAB AA 1 BRIGHT A_JumpIf(momx > 2 || momy > 2 || momx < -2 || momy < -2, "SaberSee_Blue")
		goto Spawn
	SaberSpawn_Red:
		PSAR AA 1 BRIGHT A_JumpIf(momx > 2 || momy > 2 || momx < -2 || momy < -2, "SaberSee_Red")
		goto Spawn
	See:
		PLAY A 0 A_JumpIfInventory("UsingSaber", 1, "SaberSpawn")
		PLAY ABCD 4
		Loop
	SaberSee:
		PSAG ABCD 4 BRIGHT
		PSAG A 0 BRIGHT A_JumpIf(momx < 2 && momy < 2 && momx > -2 && momy > -2, "SaberSpawn")
		goto Spawn
	SaberSee_Blue:
		PSAB ABCD 4 BRIGHT
		PSAB A 0 BRIGHT A_JumpIf(momx < 2 && momy < 2 && momx > -2 && momy > -2, "SaberSpawn")
		goto Spawn
	SaberSee_Red:
		PSAR ABCD 4 BRIGHT
		PSAR A 0 BRIGHT A_JumpIf(momx < 2 && momy < 2 && momx > -2 && momy > -2, "SaberSpawn")
		goto Spawn
	Missile:
		PLAY E 0 A_JumpIfInventory("SaberGuard", 1, "Guarding")
		PLAY E 0 A_JumpIfInventory("UsingSaber", 1, "SaberSwing")
		PLAY E 12
		Goto Spawn
	Melee:
		PLAY F 3 BRIGHT
		Goto Missile
	Guarding:
		PSAG E 0 BRIGHT A_JumpIfInventory("SaberBlue", 1, "Guarding_Blue")
		PSAG E 0 BRIGHT A_JumpIfInventory("SaberRed", 1, "Guarding_Red")
		PSAG E 8 BRIGHT
		goto Spawn
	Guarding_Blue:
		PSAB E 8 BRIGHT
		goto Spawn
	Guarding_Red:
		PSAR E 8 BRIGHT
		goto Spawn
	SaberSwing:
		PSAG F 0 BRIGHT A_JumpIfInventory("SaberBlue", 1, "SaberSwing_Blue")
		PSAG F 0 BRIGHT A_JumpIfInventory("SaberRed", 1, "SaberSwing_Red")
		PSAG FGHIJ 3 BRIGHT
		goto Spawn
	SaberSwing_Blue:
		PSAB FGHIJ 3 BRIGHT
		goto Spawn
	SaberSwing_Red:
		PSAR FGHIJ 3 BRIGHT
		goto Spawn
	Pain.BFG:
		PLAY G 0 A_SpawnItemEx("SMMP_BFGExtra", 0, 0, 32, 0, 0, 0, 0, SXF_CLIENTSIDE, 0)
		Goto Pain
	XDeath.BFG:
	Death.BFG:
		PLAY H 0 A_SpawnItemEx("SMMP_BFGExtra", 0, 0, 32, 0, 0, 0, 0, SXF_CLIENTSIDE, 0)
		Goto XDeath
	Pain:
		PLAY G 0 A_JumpIfInventory("UsingSaber", 1, "SaberPain")
		PLAY G 4
		PLAY G 4 A_Pain
		Goto Spawn
	SaberPain:
		PSAG K 0 BRIGHT A_JumpIfInventory("SaberBlue", 1, "SaberPain_Blue")
		PSAG K 0 BRIGHT A_JumpIfInventory("SaberRed", 1, "SaberPain_Red")
		PSAG K 4 BRIGHT
		PSAG K 4 BRIGHT A_Pain
		goto Spawn
	SaberPain_Blue:
		PSAB K 4 BRIGHT
		PSAB K 4 BRIGHT A_Pain
		goto Spawn
	SaberPain_Red:
		PSAR K 4 BRIGHT
		PSAR K 4 BRIGHT A_Pain
		goto Spawn
	Death.Fist:
		PLAY H 0 A_GiveToTarget("KnockoutTrigger", 1)
		goto Death
	Death.QuadSSG:
		PLAY H 0
		PLAY H 0 ThrustThingZ(0, Random(28, 40), 0, 1)
		PLAY H 0 A_Jump(128, "Death", "XDeath")
		PLAY H 0 A_GiveToTarget("DemonicPower", 10)
		PLAY H 0 A_JumpIfInventory("Kamikaze", 1, "KamikazeDeath")
		goto Split
	Death.Silver:
		PLAY H 0
		PLAY H 0 A_Jump(196, "Death")
		PLAY H 0 A_GiveToTarget("DemonicPower", 10)
		PLAY H 0 A_JumpIfInventory("Kamikaze", 1, "KamikazeDeath")
		goto HeadBurst
	Death.HeadBurst:
		PLAY H 0
		PLAY H 0 A_Jump(132, "Death")
		PLAY H 0 A_GiveToTarget("DemonicPower", 10)
		PLAY H 0 A_JumpIfInventory("Kamikaze", 1, "KamikazeDeath")
		goto HeadBurst
	Death.SSG:
		PLAY H 0
		PLAY H 0 A_Jump(150, "Death")
		PLAY H 0 A_GiveToTarget("DemonicPower", 10)
		PLAY H 0 A_JumpIfInventory("Kamikaze", 1, "KamikazeDeath")
		PLAY H 0 A_Jump(112, "HeadBurst")
		goto Split
	Death:
		PLAY H 0 A_GiveToTarget("DemonicPower", 10)
		PLAY H 0 A_JumpIfInventory("Kamikaze", 1, "KamikazeDeath")
		PLAY H 7
		PLAY I 7 A_PlayerScream
		PLAY J 7 A_NoBlocking
		PLAY KLM 7
		PLAY N -1
		Stop
	XDeath:
		PLAY O 0 A_GiveToTarget("DemonicPower", 10)
		PLAY O 0 A_GiveToTarget("SpeakOneLiner", 1)
		PLAY O 0 A_JumpIfInventory("Kamikaze", 1, "KamikazeDeath")
		PLAY O 5 A_SpawnItemEx("XDeathGibs", 0, 0, 6, MOMX, MOMY, MOMZ, 0, SXF_CLIENTSIDE | SXF_ABSOLUTEMOMENTUM, 0)
		PLAY P 5 A_XScream
		PLAY Q 5 A_NoBlocking
		PLAY RSTUV 5
		PLAY W -1
		Stop
	XDeath.Suicide:
	Death.Suicide:
		PLAK A 0 A_JumpIfInventory("Kamikaze", 1, "KamikazeDeath")
		PLAK A 0 A_JumpIfInventory("NewShotgun", 1, "DoSuicide")
		goto XDeath
	DoSuicide:
		PLAK A 35 A_PlaySoundEx("shotguncock", "Auto", 0)
		PLAK B 0 A_PlaySoundEx("weapons/shotgf", "Weapon", 0)
		PLAK BBBBBB 0 A_SpawnItemEx("Striker_FlyingBlood", 0, 0, 50, random(-2,2), random(-2,2), random(8, 16), random(-180,180), SXF_CLIENTSIDE, 0)
		PLAK BBB 0 A_SpawnItemEx("GibBrain", 0, 0, 50, random(-2,2), random(-2,2), random(8, 10), random(-180,180), SXF_CLIENTSIDE, 0)
		PLAK B 5 A_XScream
		PLAK CD 5
		PLAK E 7 A_NoBlocking
		PLAK FGHI 7
		PLAK J -1
		Stop
	Death.ChaosFire:
		PLAY GG 0 A_Stop
		PLAY G 0 A_JumpIfInventory("Kamikaze", 1, "KamikazeDeath")
		PLAY G 5 A_PlayerScream
		PLAY G 0 A_NoBlocking
		PLAY G 0 A_SpawnItemEX("BlackFlameDeath", 0, 0, 0, 0, 0, 0, 0, 128, 0)
		PLAY GG 0 A_SpawnItemEX("Striker_FlyingBlood", Random(-16, 16), Random(-16, 16), Random(0, 56), 0, 0, 0, 0, 128, 0)
		PLAY G 2 A_SetTranslucent(0.9, 1)
		PLAY GG 0 A_SpawnItemEX("Striker_FlyingBlood", Random(-16, 16), Random(-16, 16), Random(0, 56), 0, 0, 0, 0, 128, 0)
		PLAY G 2 A_SetTranslucent(0.85, 1)
		PLAY GG 0 A_SpawnItemEX("Striker_FlyingBlood", Random(-16, 16), Random(-16, 16), Random(0, 56), 0, 0, 0, 0, 128, 0)
		PLAY G 2 A_SetTranslucent(0.8, 1)
		PLAY GG 0 A_SpawnItemEX("Striker_FlyingBlood", Random(-16, 16), Random(-16, 16), Random(0, 56), 0, 0, 0, 0, 128, 0)
		PLAY G 2 A_SetTranslucent(0.75, 1)
		PLAY GG 0 A_SpawnItemEX("Striker_FlyingBlood", Random(-16, 16), Random(-16, 16), Random(0, 56), 0, 0, 0, 0, 128, 0)
		PLAY G 2 A_SetTranslucent(0.7, 1)
		PLAY GG 0 A_SpawnItemEX("Striker_FlyingBlood", Random(-16, 16), Random(-16, 16), Random(0, 56), 0, 0, 0, 0, 128, 0)
		PLAY G 2 A_SetTranslucent(0.65, 1)
		PLAY GG 0 A_SpawnItemEX("Striker_FlyingBlood", Random(-16, 16), Random(-16, 16), Random(0, 56), 0, 0, 0, 0, 128, 0)
		PLAY G 2 A_SetTranslucent(0.6, 1)
		PLAY GG 0 A_SpawnItemEX("Striker_FlyingBlood", Random(-16, 16), Random(-16, 16), Random(0, 56), 0, 0, 0, 0, 128, 0)
		PLAY G 2 A_SetTranslucent(0.55, 1)
		PLAY GG 0 A_SpawnItemEX("Striker_FlyingBlood", Random(-16, 16), Random(-16, 16), Random(0, 56), 0, 0, 0, 0, 128, 0)
		PLAY G 2 A_SetTranslucent(0.5, 1)
		PLAY GG 0 A_SpawnItemEX("Striker_FlyingBlood", Random(-16, 16), Random(-16, 16), Random(0, 56), 0, 0, 0, 0, 128, 0)
		PLAY G 2 A_SetTranslucent(0.45, 1)
		PLAY GG 0 A_SpawnItemEX("Striker_FlyingBlood", Random(-16, 16), Random(-16, 16), Random(0, 56), 0, 0, 0, 0, 128, 0)
		PLAY G 2 A_SetTranslucent(0.4, 1)
		PLAY GG 0 A_SpawnItemEX("Striker_FlyingBlood", Random(-16, 16), Random(-16, 16), Random(0, 56), 0, 0, 0, 0, 128, 0)
		PLAY G 2 A_SetTranslucent(0.35, 1)
		PLAY GG 0 A_SpawnItemEX("Striker_FlyingBlood", Random(-16, 16), Random(-16, 16), Random(0, 56), 0, 0, 0, 0, 128, 0)
		PLAY G 2 A_SetTranslucent(0.3, 1)
		PLAY GG 0 A_SpawnItemEX("Striker_FlyingBlood", Random(-16, 16), Random(-16, 16), Random(0, 56), 0, 0, 0, 0, 128, 0)
		PLAY G 2 A_SetTranslucent(0.25, 1)
		PLAY GG 0 A_SpawnItemEX("Striker_FlyingBlood", Random(-16, 16), Random(-16, 16), Random(0, 56), 0, 0, 0, 0, 128, 0)
		PLAY G 2 A_SetTranslucent(0.2, 1)
		PLAY GG 0 A_SpawnItemEX("Striker_FlyingBlood", Random(-16, 16), Random(-16, 16), Random(0, 56), 0, 0, 0, 0, 128, 0)
		PLAY G 2 A_SetTranslucent(0.15, 1)
		PLAY GG 0 A_SpawnItemEX("Striker_FlyingBlood", Random(-16, 16), Random(-16, 16), Random(0, 56), 0, 0, 0, 0, 128, 0)
		PLAY G 2 A_SetTranslucent(0.1, 1)
		PLAY GG 0 A_SpawnItemEX("Striker_FlyingBlood", Random(-16, 16), Random(-16, 16), Random(0, 56), 0, 0, 0, 0, 128, 0)
		PLAY G 2 A_SetTranslucent(0.05, 1)
		PLAY GG 0 A_SpawnItemEX("Striker_FlyingBlood", Random(-16, 16), Random(-16, 16), Random(0, 56), 0, 0, 0, 0, 128, 0)
		PLAY G 2 A_SetTranslucent(0.0, 1)
		PLAY N -1
		stop
	Death.Microwave:
		PLYG A 0 A_GiveToTarget("DemonicPower", 10)
		PLYG A 0 A_JumpIfInventory("Kamikaze", 1, "KamikazeDeath")
		PLYG A 4 A_PlaySound("DukeGrow")
		PLYG B 4
		PLYG C 4
		PLYG D 4
		PLYG E 4
		PLYG F 4
		PLYG G 4
		PLYG H 4
		PLYG I 4
		PLYG J 4
		PLYG J 4
		PLYG J 0 A_PlaySound("DukeExplosion")
		PLYG J 0 A_XScream
		PLYG J 0 A_Fall
		PLYG J 0 A_Explode
		PLYG J 0 A_GiveToTarget("SpeakOneLiner", 1)
		POL5 A 0 A_SpawnItemEx("DukeExplode", 0, 0, 0, 0, 0, 0, 0, 128, 0)
		POL5 A 0 A_SpawnItemEx("XDeathGibs", 0, 0, 6, MOMX, MOMY, MOMZ, 0, SXF_CLIENTSIDE | SXF_ABSOLUTEMOMENTUM, 0)
		POL5 A -1
		stop
	Death.Ethereal:
		PLAY G 0 A_GiveToTarget("DemonicPower", 10)
		PLAY G 0 A_JumpIfInventory("Kamikaze", 1, "KamikazeDeath")
		PLAY G 0 A_SetTranslucent(1.0, 0)
		PLAY G 1 A_PlayerScream
		goto EtherealLoop
	EtherealLoop:
		PLAY G 0 A_GiveInventory("GenericTimer", 1)
		PLAY G 1 A_SpawnItemEX("EtherealMist", Random(-8, 8), Random(-8, 8), Random(0, 40), Random(-1, 1), Random(-1, 1), Random(-1, 1), 0, 128, 0)
		PLAY GGGG 0 A_SpawnItemEX("EtherealMist", Random(-8, 8), Random(-8, 8), Random(0, 40), Random(-1, 1), Random(-1, 1), Random(-1, 1), 0, 128, 0)
		PLAY G 0 A_FadeOut(0.01)
		PLAY G 0 A_JumpIfInventory("GenericTimer", 70, "EtherealLoop2Start")
		loop
	EtherealLoop2Start:
		PLAY G 0 A_TakeInventory("GenericTimer", 9999)
		goto EtherealLoop2
	EtherealLoop2:
		NULL A 0 A_GiveInventory("GenericTimer", 1)
		NULL A 1 A_SpawnItemEX("EtherealMist", Random(-8, 8), Random(-8, 8), Random(0, 40), Random(-1, 1), Random(-1, 1), Random(-1, 1), 0, 128, 0)
		NULL AAAA 0 A_SpawnItemEX("EtherealMist", Random(-8, 8), Random(-8, 8), Random(0, 40), Random(-1, 1), Random(-1, 1), Random(-1, 1), 0, 128, 0)
		NULL A 0 A_JumpIfInventory("GenericTimer", 45, "EtherealEnd")
		loop
	EtherealEnd:
		NULL A 0 A_TakeInventory("GenericTimer", 9999)
		NULL A -1
		stop
	Ice:
		PLAY E 0 A_GiveToTarget("DemonicPower", 10)
		PLAY E 0 A_JumpIfInventory("Kamikaze", 1, "KamikazeDeath")
		PLAY E 5 A_GenericFreezeDeath
		PLAY E 1 A_FreezeDeathChunks
		Wait
	Death.IceRod:
		PLAY E 1 A_GenericFreezeDeath
		PLAY E 0 A_GiveToTarget("DemonicPower", 10)
		PLAY E 0 A_JumpIfInventory("Kamikaze", 1, "KamikazeDeath")
		PLAY EEEEEE 0 A_SpawnItemEx("IceRodFog4", 0, 0, 0, random(-8,8), random(-8,8), random(-8,8), 0, 128, 0)
		PLAY E 0 A_SpawnItemEx("XDeathGibs", 0, 0, 6, MOMX, MOMY, MOMZ, 0, SXF_CLIENTSIDE | SXF_ABSOLUTEMOMENTUM, 0)
		PLAY E 1 A_IceGuyDie
		stop
	KamikazeDeath:
		PLAY O 0
		PLAY O 0 A_TakeInventory("Kamikaze", 1)
		PLAY O 0 A_SpawnItemEx("XDeathGibs", 0, 0, 6, MOMX, MOMY, MOMZ, 0, SXF_CLIENTSIDE | SXF_ABSOLUTEMOMENTUM, 0)
		PLAY O 5 A_SpawnItemEx("ScreamingKamikazeSoul", 0, 0, 8, 0, 0, 1, 0, 0, 0)
		PLAY O 5 A_SpawnItemEx("KamikazeExplode", 0, 0, 2, 0, 0, 0, 0, 0, 0)
		PLAY Q 5 A_XScream
		PLAY R 5 A_NoBlocking
		PLAY STUV 5
		PLAY W -1
		stop
	Burn:
		PLYB A 0 A_GiveToTarget("DemonicPower", 10)
		PLYB A 0 A_JumpIfInventory("Kamikaze", 1, "KamikazeDeath")
		PLYB A 0 A_Jump(75, "Burn2")
		PLYB A 0 A_Playsound("*xdeath")
		PLYB A 0 A_NoBlocking
		PLYB A 0 A_PlaySound("BurningFire", CHAN_VOICE, true)
		PLYB A 0 A_PlaySound("BurningUp", CHAN_AUTO)
		PLYB ABCD 5 BRIGHT A_SpawnItemEx("BasicFlame", random(-16,16), Random(-16,16), random(0, 48), 0, 0, (Random(100, 200)/100.0), 0, SXF_CLIENTSIDE, 0)
		PLYB EFGHEFGHEFGHEFGHEFGHEFGHEFGHEFGH 3 BRIGHT A_SpawnItemEx("BasicFlame", random(-16,16), Random(-16,16), random(0, 16), 0, 0, (Random(100, 200)/100.0), 0, SXF_CLIENTSIDE, 16)
		PLYB I 0 BRIGHT A_PlaySound("SmallBurningFire", CHAN_VOICE, true)
		PLYB IJK 3 BRIGHT
		PLYB LMLMLMLMLMLM 4 BRIGHT
		PLYB N -1 A_StopSound(CHAN_VOICE)
		stop
	Burn2:
		PLAY H 0
		PLAY H 0 A_NoBlocking
		PLAY H 1
		PLAY H 0 A_SpawnItemEx("MarineBurn", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERTRANSLATION, 0)
		NULL AAA 3
		NULL A -1
		stop
	Disintegrate:
		NULL A 0 A_GiveToTarget("DemonicPower", 10)
		NULL A 0 A_JumpIfInventory("Kamikaze", 1, "KamikazeDeath")
		NULL A 0 A_Playsound("disintegrate")
		NULL A 0 A_NoBlocking
		NULL A 0 A_SpawnItemEx("DisintegratingPlayer", 0, 0, 0, 0, 0, 0, 0, 128, 0)
		NULL A 3
		NULL A -1
		stop
	HeadBurst:
		PDEC A 0 A_SpawnItemEx("BrainExplosion", 0, 0, 48, 0, 0, 0, 0, SXF_CLIENTSIDE, 0)
		PDEC AAAAAAA 0 A_SpawnItemEx("Striker_FlyingBlood", 0, 0, 48, random(-4,4), random(-4,4), random(4, 16), random(-180,180), SXF_CLIENTSIDE, 0)
		PDEC AAAA 0 A_SpawnItemEx("GibBrain", 0, 0, 48, random(-4,4), random(-4,4), random(4, 10), random(-180,180), SXF_CLIENTSIDE, 0)
		PDEC AAAA 0 A_SpawnItemEx("GibMeatSmall", 0, 0, 48, random(-4,4), random(-4,4), random(4, 10), random(-180,180), SXF_CLIENTSIDE, 0)
		PDEC A 0 A_XScream
		PDEC A 6 A_NoBlocking
		PDEC BCDEF 6
		PDEC G -1
		stop
	Death.Saber:
		PLYS A 0 A_GiveToTarget("DemonicPower", 10)
		PLYS A 0 A_JumpIfInventory("Kamikaze", 1, "KamikazeDeath")
		PLYS A 0 A_PlayerScream
		PLYS A 3 A_NoBlocking
		PLYS B 3
		PLYS B 0 A_SpawnItemEx("MarineLegs", 0, 0, 0, MOMX, MOMY, MOMZ, 0, SXF_TRANSFERTRANSLATION | SXF_CLIENTSIDE | SXF_ABSOLUTEMOMENTUM, 0)
		PLYS B 0 ThrustThingZ(0, random(40, 64), 0, 1)
		goto Split2
	Split:
		PLYS AAAAAAAAAA 0 A_SpawnItemEx("Striker_FlyingBlood", random(-32,32), random(-32,32), random(0, 56), random(-10, 10), random(-10,10), random(8,10), 0, SXF_CLIENTSIDE, 0)
		PLYS AAAAAAA 0 A_SpawnItemEx("GibMeatSmall", 0, 0, 32, random(-8,8), random(-8,8), random(4, 10), random(-180,180), SXF_CLIENTSIDE, 0)
		PLYS A 0 A_PlaySoundEx("misc/gibbed", "Auto")
		PLYS A 0 A_PlaySoundEx("HorrificScream", "Auto")
		PLYS A 3 A_NoBlocking
		PLYS B 3
		PLYS B 0 A_SpawnItemEx("MarineLegs", 0, 0, 0, MOMX, MOMY, MOMZ, 0, SXF_TRANSFERTRANSLATION | SXF_CLIENTSIDE | SXF_ABSOLUTEMOMENTUM, 0)
		PLYS B 0 ThrustThingZ(0, random(40, 64), 0, 1)
		goto Split2
	Split2:
		PTOR A 0 A_ChangeFlag("THRUSPECIES", 1)
		PTOR A 4
		PTOR AA 0 A_SpawnItemEx("Striker_FlyingBlood", random(-16,16), random(-16,16), random(-8, 0), 0, 0, 0, 0, SXF_CLIENTSIDE, 0)
		PTOR B 4 A_CheckFloor("Hit")
		PTOR BB 0 A_SpawnItemEx("Striker_FlyingBlood", random(-16,16), random(-16,16), random(-8, 0), 0, 0, 0, 0, SXF_CLIENTSIDE, 0)
		PTOR C 4 A_CheckFloor("Hit")
		PTOR CC 0 A_SpawnItemEx("Striker_FlyingBlood", random(-16,16), random(-16,16), random(-8, 0), 0, 0, 0, 0, SXF_CLIENTSIDE, 0)
		PTOR D 4 A_CheckFloor("Hit")
		PTOR DD 0 A_SpawnItemEx("Striker_FlyingBlood", random(-16,16), random(-16,16), random(-8, 0), 0, 0, 0, 0, SXF_CLIENTSIDE, 0)
		PTOR A 4
		PTOR AA 0 A_SpawnItemEx("Striker_FlyingBlood", random(-16,16), random(-16,16), random(-8, 0), 0, 0, 0, 0, SXF_CLIENTSIDE, 0)
		PTOR B 4 A_CheckFloor("Hit")
		PTOR BB 0 A_SpawnItemEx("Striker_FlyingBlood", random(-16,16), random(-16,16), random(-8, 0), 0, 0, 0, 0, SXF_CLIENTSIDE, 0)
		PTOR C 4 A_CheckFloor("Hit")
		PTOR CC 0 A_SpawnItemEx("Striker_FlyingBlood", random(-16,16), random(-16,16), random(-8, 0), 0, 0, 0, 0, SXF_CLIENTSIDE, 0)
		PTOR D 4 A_CheckFloor("Hit")
		PTOR DD 0 A_SpawnItemEx("Striker_FlyingBlood", random(-16,16), random(-16,16), random(-8, 0), 0, 0, 0, 0, SXF_CLIENTSIDE, 0)
		goto Hit
	Hit:
		PTOR E 3
		PTOR F -1
		stop
	}
}


ACTOR MarineLegs
{
  Radius 8
  Height 8
  Gravity 0.64
  +DROPOFF
  +MOVEWITHSECTOR
  States
  {
	Spawn:
		PLYS CDEF 5
		PLYS G -1 A_QueueCorpse
		stop
  }
}

ACTOR MarineBurn
{
	Radius 16
	Height 56
	Speed 4
	+FLOORCLIP
	+SLIDESONWALLS
	+DROPOFF
	
	var int user_runtime;

	States
	{
	Spawn:
		PLAY A 0
		PLAY A 0 A_PlaySound("MarineBurn", CHAN_VOICE)
		PLAY A 0 A_PlaySound("SmallBurningFire", CHAN_BODY, true)
		PLAY A 0 A_PlaySound("FlameThrower", CHAN_AUTO)
		PLAY A 0 A_Jump(128, "RunLoop2")
		goto RunLoop
	RunLoop:
		PLAY A 0 A_SetUserVar("user_runtime", user_runtime+1) 
		PLAY A 1 A_Recoil(-4)
		PLAY A 0 A_SetAngle(angle+random(8, 22))
		PLAY AA 0 A_SpawnItemEx("BasicFlame", random(-16,16), Random(-16,16), random(0, 48), 0, 0, (Random(100, 200)/100.0), 0, SXF_CLIENTSIDE, 64)
		PLAY B 1 A_Recoil(-4)
		PLAY B 0 A_SetAngle(angle+random(8, 22))
		PLAY BB 0 A_SpawnItemEx("BasicFlame", random(-16,16), Random(-16,16), random(0, 48), 0, 0, (Random(100, 200)/100.0), 0, SXF_CLIENTSIDE, 64)
		PLAY C 1 A_Recoil(-4)
		PLAY C 0 A_SetAngle(angle+random(8, 22))
		PLAY CC 0 A_SpawnItemEx("BasicFlame", random(-16,16), Random(-16,16), random(0, 48), 0, 0, (Random(100, 200)/100.0), 0, SXF_CLIENTSIDE, 64)
		PLAY D 1 A_Recoil(-4)
		PLAY D 0 A_SetAngle(angle+random(8, 22))
		PLAY DD 0 A_SpawnItemEx("BasicFlame", random(-16,16), Random(-16,16), random(0, 48), 0, 0, (Random(100, 200)/100.0), 0, SXF_CLIENTSIDE, 64)
		PLAY D 0 A_JumpIf(user_runtime >= 20, "Die")
		loop
	RunLoop2:
		PLAY A 0 A_SetUserVar("user_runtime", user_runtime+1) 
		PLAY A 1 A_Recoil(-4)
		PLAY A 0 A_SetAngle(angle+random(-22, -8))
		PLAY AA 0 A_SpawnItemEx("BasicFlame", random(-16,16), Random(-16,16), random(0, 48), 0, 0, (Random(100, 200)/100.0), 0, SXF_CLIENTSIDE, 64)
		PLAY B 1 A_Recoil(-4)
		PLAY B 0 A_SetAngle(angle+random(-22, -8))
		PLAY BB 0 A_SpawnItemEx("BasicFlame", random(-16,16), Random(-16,16), random(0, 48), 0, 0, (Random(100, 200)/100.0), 0, SXF_CLIENTSIDE, 64)
		PLAY C 1 A_Recoil(-4)
		PLAY C 0 A_SetAngle(angle+random(-22, -8))
		PLAY CC 0 A_SpawnItemEx("BasicFlame", random(-16,16), Random(-16,16), random(0, 48), 0, 0, (Random(100, 200)/100.0), 0, SXF_CLIENTSIDE, 64)
		PLAY D 1 A_Recoil(-4)
		PLAY D 0 A_SetAngle(angle+random(-22, -8))
		PLAY DD 0 A_SpawnItemEx("BasicFlame", random(-16,16), Random(-16,16), random(0, 48), 0, 0, (Random(100, 200)/100.0), 0, SXF_CLIENTSIDE, 64)
		PLAY D 0 A_JumpIf(user_runtime >= 20, "Die")
		loop
	Die:
		PLYB A 0 A_PlaySound("BurningFire", CHAN_BODY, true)
		PLYB A 0 A_PlaySound("BurningUp", CHAN_AUTO)
		PLYB ABCD 5 BRIGHT A_SpawnItemEx("BasicFlame", random(-16,16), Random(-16,16), random(0, 48), 0, 0, (Random(100, 200)/100.0), 0, SXF_CLIENTSIDE, 0)
		PLYB EFGHEFGHEFGHEFGHEFGHEFGHEFGHEFGH 3 BRIGHT A_SpawnItemEx("BasicFlame", random(-16,16), Random(-16,16), random(0, 16), 0, 0, (Random(100, 200)/100.0), 0, SXF_CLIENTSIDE, 16)
		PLYB I 0 BRIGHT A_PlaySound("SmallBurningFire", CHAN_BODY, true)
		PLYB IJK 3 BRIGHT
		PLYB LMLMLMLMLMLM 4 BRIGHT
		PLYB N 0 A_QueueCorpse
		PLYB N -1 A_StopSound(CHAN_BODY)
		stop
	}
}