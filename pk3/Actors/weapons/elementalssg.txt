//Ruin's first weapon attempt
//coded by Ruin

Actor ElementalSSG : Weapon 12346
{
	Tag "Elemental SSG (Fire)"
	Weapon.BobSpeed 1.5
	Weapon.BobStyle "InverseSmooth"
	Weapon.BobRangeX 1.0
    Weapon.BobRangeY 2.0
	spawnid 33
	inventory.pickupmessage "You got the \cgElem\chent\cfal SSG! \ccWreak some Havok!"
	obituary "%o was Torched by %k's Blaze SSG."
	radius 20
	height 16
	attacksound "weapons/shottyfire"
	weapon.kickback 300
	Weapon.AmmoType "SpreadAmmo"
	weapon.ammouse 2
	weapon.ammogive 8
	States
	{
		Ready:
			SHT4 A 0 A_JumpIfInventory("TailsClassCheck", 1, "ICEReady")
			SHT4 A 0 A_JumpIfInventory("LinkClassCheck", 1, "BlitzReady")
			SHT4 A 1 A_WeaponReady
			LOOP
		Deselect:
			SHT4 A 0 A_JumpIfInventory("TailsClassCheck", 1, "ICEDeselect")
			SHT4 A 0 A_JumpIfInventory("LinkClassCheck", 1, "BlitzDeselect")
			SHT4 A 1 A_lower
			LOOP
		Select:
			SHT4 A 0 A_JumpIfInventory("TailsClassCheck", 1, "ICESelect")
			SHT4 A 0 A_JumpIfInventory("LinkClassCheck", 1, "BlitzSelect")
			SHT4 A 1 A_Raise
			LOOP
		Fire:
			SHT4 A 0 A_JumpIfInventory("TailsClassCheck", 1, "ICEFire")
			SHT4 A 0 A_JumpIfInventory("LinkClassCheck", 1, "BlitzFire")
			SHT4 A 0 radius_quake(4, 3, 0, 1, 0)
			SHT4 A 0 A_FireBullets(9, 5, 10, 14, "BlazePuff", FBF_USEAMMO | FBF_NORANDOM)
			SHT4 A 1 A_GunFlash
			SHT4 B 0 A_SetPitch(pitch-4)
			SHT4 BCDEFGHIJK 1 A_SetPitch(pitch+0.4)
			SHT4 A 1 A_CheckReload
			SH4R AB 2
			SH4R C 0 A_PlaySoundEx("weapons/shotopen", "auto", 0)
			SH4R CDEF 2
			//SH4R GG 0 A_FireCustomMissile("ElementalCasing", Random(-14,8),0,2,0)
			SH4R GHI 2
			SH4R JK 2
			SH4R L 0 A_PlaySoundEx("weapons/shotload", "auto", 0)
			SH4R LMNO 2
			SH4R PQRSTUVWX 2
			SH4R Y 0 A_PlaySoundEx("weapons/shotclose", "auto", 0)
			SH4R YZ 2
			SH42 ABCD 2
			SHT4 A 0 A_ReFire
			goto Ready
		Flash:
			SH4F A 2 bright A_Light1
			SH4F B 1 bright A_Light2
			SH4F B 0 bright A_Light0
			stop
		
		ICEReady:
			SHT5 A 1 A_WeaponReady
			LOOP
		ICESelect:
			SHT5 A 1 A_Raise
			LOOP
		ICEDeselect:
			SHT5 A 1 A_lower
			LOOP
		ICEFire:
			SHT5 A 0 radius_quake(4, 3, 0, 1, 0)
			SHT5 A 0 A_FireBullets(9, 5, 10, 14, "FrostPuff", FBF_USEAMMO | FBF_NORANDOM)
			SHT5 A 1 A_GunFlash("IceFlash")
			SHT5 B 0 A_SetPitch(pitch-4)
			SHT5 BCDEFGHIJK 1 A_SetPitch(pitch+0.4)
			SHT5 A 1 A_CheckReload
			SH5R AB 2
			SH5R C 0 A_PlaySoundEx("weapons/shotopen", "auto", 0)
			SH5R CDEF 2
			//SH5R GG 0 A_FireCustomMissile("ElementalCasing", Random(-14,8),0,2,0)
			SH5R GHI 2
			SH5R JK 2
			SH5R L 0 A_PlaySoundEx("weapons/shotload", "auto", 0)
			SH5R LMNO 2
			SH5R PQRSTUVWX 2
			SH5R Y 0 A_PlaySoundEx("weapons/shotclose", "auto", 0)
			SH5R YZ 2
			SH52 ABCD 2
			SHT5 A 0 A_ReFire
			goto Ready
		ICEFlash:
			SH5F A 2 bright A_Light1
			SH5F B 1 bright A_Light2
			SH5F B 0 bright A_Light0
			stop
		
		BlitzReady:
			SHT6 A 1 A_WeaponReady
			LOOP
		BlitzDeselect:
			SHT6 A 1 A_lower
			LOOP
		BlitzSelect:
			SHT6 A 1 A_Raise
			LOOP		
		BlitzFire:
			SHT6 A 3
			SHT6 A 0 Radius_Quake(1, 2, 0, 1, 0)
			SHT6 A 0 A_FireBullets(11, 6, 10, 14, "BlitzShock", FBF_USEAMMO | FBF_NORANDOM)
			SHT6 A 7 A_GunFlash("BlitzFlash")
			SHT6 B 3 A_Recoil(7)
			SHT6 C 3 A_CheckReload
			SHT6 D 3
			TNT1 A 7 A_PlayWeaponSound ("weapons/shotopen")
			TNT1 A 7
			TNT1 A 7 A_PlayWeaponSound ("weapons/shotload")
			TNT1 A 6
			TNT1 A 0 A_PlayWeaponSound ("weapons/shotclose")
			SHT6 DCB 3
			SHT6 A 3
			SHT6 A 3 A_ReFire
			SHT6 A 5 A_ReFire
			goto ready
		BlitzFlash:
			SHT6 E 0 bright A_Light1
			SHT6 F 3 bright A_Light2
			SHT6 F 0 bright A_Light0
			stop
		Spawn:
			SGN4 A -1
			stop
	}
}