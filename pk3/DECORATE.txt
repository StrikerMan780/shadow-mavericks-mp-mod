// ******************************************************************************
// | With the increasing amount of wads taking SMMP code without permission 	|
// | or credit, I'm forced to add this to the start of this lump.				|
// |																			|
// | If I catch you stealing code, I'll make your life a living hell.			|
// | by that, I mean I'll be bringing the offending wad to the attention		|
// | of the public, and I'll be DAMN sure to make clear as day what was 		|
// | stolen, where from, and who did it. You do not want to be put on the		|
// | spotlight like that, believe me.											|
// |																			|
// | Don't be a lazy bastard. Write your own code/script instead of				|
// | just yanking whatever the fuck you want from the code I've spent			|
// | countless hours, days, and weeks on. DECORATE isn't that hard folks.		|
// | Feel free to learn from the code, just to get a better understanding		|
// | of it, but, for the love of god, don't just steal it for your own mods.	|
// | (At the very least, contact me first!)										|
// |																			|
// | I want to keep this Mod's status as being unique, and it doesn't help		|
// | it when everyone and their grandmother's fuckin shitty HQ wads have my 	|
// | stuff poorly shoehorned in by lazy inconsiderate bastards. 				|
// | Ruins the novelty and experience, in my honest opinion.					|
// ******************************************************************************

// 21321 <- USE THIS FOR THE INVENTORY PACK

#include "actors/checksandtriggers.txt"
#include "actors/damagedigits.txt"
#include "actors/ammotypes.txt"
#include "actors/effects.txt"
#include "actors/effectspawners.txt"
#include "actors/decorations.txt"
#include "actors/weather.txt"
#include "actors/keys.txt"
#include "actors/casings.txt"
#include "actors/tracers.txt"
#include "actors/bulletpuffs.txt"
#include "actors/weapons.txt"
#include "actors/missionselector.txt"
#include "actors/projectiles.txt"
#include "actors/gore.txt"
#include "actors/healthandarmor.txt"
#include "actors/powerups.txt"
#include "actors/runes.txt"
#include "actors/inventorybar.txt"
#include "actors/splashes.txt"
#include "actors/money.txt"
#include "actors/horrormode.txt"
#include "actors/monsters.txt"

#include "actors/heretic_compat.txt"
#include "actors/heretic_edits.txt"

#include "actors/classes.txt"

actor DemonicChargeEffectPiece
{
	Radius 1
	Height 1
	Speed 0
	Scale 0.08
	RenderStyle Add
	Alpha 0.9
	PROJECTILE
	+CORPSE
	+FORCEXYBILLBOARD
	States
	{
	Spawn:
		WRAT A 1 BRIGHT A_FadeOut(0.1)
		loop
	Death:
		TNT1 A 1
		Stop
	}
}

actor DemonicChargerBall 14721
{
	Radius 16
	Height 16
	-SOLID
	+NOBLOCKMAP
	+DROPOFF
	+NOGRAVITY
	+FLOATBOB
	States
	{
		Spawn:
			TNT1 A 0 A_SpawnItemEx("DemonicChargeEffectPiece", 0, 0, 0, Random(-3,3), Random(-3,3), Random(-3,3), 0, 128, 0)
			TNT1 A 0 A_SpawnItemEx("PlasmaMist", Random(-10,10), Random(-10,10), Random(-10,10), random(-1,1), Random(-1,1), Random(-1,1), 0, 128, 0)
			TNT1 A 1 A_SpawnItemEx("PlasmaMist", Random(-10,10), Random(-10,10), Random(-10,10), random(-1,1), Random(-1,1), Random(-1,1), 0, 128, 0)
			loop
		Death:
			TNT1 A 1
			stop
	}
}

actor IPod : PlasmaBall
{
	renderstyle Normal
	-NOGRAVITY
	+LOWGRAVITY
	+HEXENBOUNCE
	obituary "%o swallowed %k's IPod."
	Damage (25)
	Seesound "IpodBounce"
	Scale 0.08
	ReactionTime 80
	BounceCount 6
	States
	{
	Spawn:
		IPOD ABCDEFGHIJKLMNOP 2 A_CountDown
		loop
	XDeath:
		TNT1 A 0
		TNT1 A 0 A_GiveToTarget("HitConfirmation", 1)
		goto Death
	Death:
		TNT1 A 0
		TNT1 A 1 A_SpawnItemEx("IpodExplosion", 0, 0, 8, 0, 0, 0, 0, 128, 0)
		stop
	}
}

actor IPodExplosion : BaseEffect
{
	RenderStyle Add
	Alpha 0.9
	Scale 0.5
	States
	{
		Spawn:
			IPE1 A 1 BRIGHT A_SetScale(scalex, scaley-0.05)
			IPE1 A 0 BRIGHT A_JumpIf(scaley < 0.05, "Death")
			loop
	}
}

actor IpodExplosionBig : IPodExplosion
{
	scale 1.0
	+FORCEXYBILLBOARD
	States
	{
		Spawn:
			IPE1 A 1 BRIGHT A_SetScale(scalex, scaley-0.05)
			IPE1 A 0 BRIGHT A_JumpIf(scaley < 0.05, "Death")
			loop
	}
}

actor GiantIpod : PlasmaBall
{
	Radius 16
	Height 32
	renderstyle Normal
	-NOGRAVITY
	+LOWGRAVITY
	+FORCEXYBILLBOARD
	obituary "%k squashed %o with a Giant Ipod."
	Damage (100)
	Speed 10
	Seesound "IpodBounce"
	Deathsound "IPodExplosion"
	Scale 0.2
	States
	{
	Spawn:
		IPOD A 0
		IPOD A 0 ThrustThingZ(0, 10, 0, 1)
		IPOD ABCDEFGHIJKLMNOP 2
		goto Spawn+2
	XDeath:
		TNT1 A 0
		TNT1 A 0 A_GiveToTarget("HitConfirmation", 1)
		goto Death
	Death:
		TNT1 A 0
		TNT1 A 1 A_SpawnItemEx("IpodExplosionBig", 0, 0, 32, 0, 0, 0, 0, 128, 0)
		TNT1 A 2
		TNT1 AAAAAAAAAAAAAAAAAAAA 0 BRIGHT A_CustomMissile("Ipod", 0, 0, random(-180,180), CMF_AIMDIRECTION | CMF_TRACKOWNER, random(0,90))
		stop
	}
}

ACTOR DisintegratingPlayer
{
	Radius 12
	Height 56
	Speed 0
	+NOBLOCKMAP
	+FLOORCLIP
	States
	{
	Death:
	Spawn:
		DISR ABCDEFGHIJ 6
		Stop
	}
}

// 450 = Flags for Morph Style.
actor SpaceCraftInFlight : PlayerPawn
{
	Health 100
	ReactionTime 0
	PainChance 255
	Radius 56
	Height 56
	Scale 1.0
	Mass 800
	Gravity 0.1
	DamageFactor "Normal", 0.1
	DamageFactor "ServoLaser", 0.15
	DamageFactor "Electric", 1.25
	DamageFactor "Leeroy", 1.25
	DamageFactor "Hellfire", 0.5
	+NOSKIN
	+NOTELEPORT
	+NOBLOOD
	RadiusDamageFactor 0.25
	Player.JumpZ 8
	Player.Viewheight 41
	Player.ColorRange 112, 127
	Player.DisplayName "SpaceCraft"
	Player.ScoreIcon "HELLBEND"
	Player.InvulnerabilityMode "Reflective"
	Player.HealRadiusType "Health"
	Player.Hexenarmor 5, 5, 15, 10, 25
	Player.ForwardMove 2
	Player.SideMove 0
	player.morphweapon "ValkrieCannons"
	player.runhealth 35
	States
	{
		Spawn:
			SHI2 A 0
			SHI2 A 0 A_PlaySoundEx("PlayerShipEngine", auto, 0)
			SHI2 A 1 A_CustomBulletAttack(0,0,1,0,"HeadLight", 2048, 1)
			loop
		See:
			SHI2 A 0
			SHI2 A 0 A_PlaySoundEx("PlayerShipEngine", auto, 0)
			SHI2 A 1 A_CustomBulletAttack(0,0,1,0,"HeadLight", 2048, 1)
			loop
		Missile:
			SHI2 A 0
			SHI2 A 0 A_PlaySoundEx("PlayerShipEngine", auto, 0)
			SHI2 A 1 A_CustomBulletAttack(0,0,1,0,"HeadLight", 2048, 1)
			Goto See
		Melee:
			SHI2 A 0
			SHI2 A 0 A_PlaySoundEx("PlayerShipEngine", auto, 0)
			SHI2 A 1 A_CustomBulletAttack(0,0,1,0,"HeadLight", 2048, 1)
			Goto See
		XDeath:
		Death:
			SHI2 A 0 A_LowGravity
			SHI2 A 0 A_NoBlocking
			SHI2 A 0 A_ChangeFlag("CORPSE", 1)
			SHI2 AAAAA 0 A_SpawnItemEX("ShipBurnSmoke", Random(-8,8), Random(-8,8), Random(-8,8), 0, 0, 0, 0, 128, 0)
			SHI2 A 6 A_SpawnItemEX("ShipBurnTrail", 0, 0, 0, Random(-1,1), Random(-1,1), Random(-1,1), 0, 128, 0)
			SHI2 A 0 A_JumpIf(momx+momy == 0, "Crash")
			goto Death+2
		Crash:
			NULL A 0 A_Explode
			NULL A 0 A_PlaySound("weapons/grenlx")
			NULL A 0 A_Stop
			NULL A 0 bright A_PlaySound("MassiveExplosion")
			NULL A 0 bright A_Explode(136, 136, 1)
			NULL A 0 bright A_SpawnItemEx("SledgeHammerExplosionLarge", 0, 0, 0, 0, 0, 0, 0, 128, 0)
			NULL AAAAAAAAAAAA 0 bright A_SpawnItemEx("SledgeHammerExplosionSmall", Random(-48, 48), Random(-48, 48), Random(-48, 48), 0, 0, 0, 0, 128, 0)
			NULL AAAAAAAAAAAAAAAAAAAAAAAAAAA 3 A_SpawnItemEX("DukeExplosion", Random(-64, 64), Random(-64, 64), Random(0, 64), Random(-2,2), Random(-2,2), Random(-2,2), 0, 0, 0)
			NULL A -1
			stop
		Pain:
			SHI2 A 0 A_StopSound
			SHI2 A 0 radius_quake(10, 20, 0, 1, 0)
			SHI2 A 0 A_PlaySoundEx("SpaceShipHit", auto, 0)
			SHI2 A 4
			SHI2 A 4
			goto See
	}
}

actor Flying_Deathbringer : SpaceCraftInFlight
{
	player.morphweapon "DeathbringerCannons"
}

actor GrapplingHook : LoreShot Replaces LoreShot
{
	speed 48
	+NOTELEPORT
	states
	{
		XDeath:
			TNT1 A 0
			TNT1 A 0 A_GiveToTarget("HitConfirmation", 1)
			goto Death
	}
}

actor GrappleSpikeShot
{
radius 6
height 6
damage 12
speed 60
seesound "grapplespike"
projectile
+BLOODSPLATTER
states
{
	Spawn:
		SPIK A 2
		loop
	XDeath:
		TNT1 A 0
		TNT1 A 0 A_GiveToTarget("HitConfirmation", 1)
		goto Death
	Death:
		PUFF ABCD 1
		stop
}
}

actor GrapplerShot : ClericWeapon 20481
{
	obituary "%o was hooked like a fish by %k!"
	Inventory.PickupSound "misc/w_pkup"
	Inventory.PickupMessage "Bagged a GrapplerShot!"
	weapon.selectionorder 6000
	weapon.kickback 100
	Weapon.AmmoType1 "None"
	Weapon.AmmoType2 "MechAmmo"
	Weapon.AmmoGive1 0
	Weapon.AmmoGive2 20
	Weapon.AmmoUse1 0
	Weapon.AmmoUse2 2
	+WEAPON.WIMPY_WEAPON
	states
	{
	Spawn:
		GRAP A -1
		loop
	Ready:
		GRPL A 1 A_WeaponReady
		loop
	Deselect:
		GRPL A 1 A_Lower
		loop
	Select:
		GRPL A 1 A_Raise
		loop
	Fire:
		GRPL A 2
		GRPL B 2
		GRPL C 2 A_FireCustomMissile("GrapplingHook", 0, 0, 0, 0)
		GRPL A 20
		GRPL A 0 A_ReFire
		goto Ready
	AltFire:
		GRPL A 1
		GRPL B 1
		GRPL C 1 A_FireCustomMissile("GrappleSpikeShot", 0, 1, 0, 0)
		GRPL A 20
		GRPL A 0 A_ReFire
		goto Ready
	Flash:
		TNT1 A 0 bright A_Light0
		stop
	}
}

actor SlaugheredMarine 20322
{
	Height 56
	Radius 20
	Mass 99999999
	Health 99999999999
	+SOLID
	States
	{
		Spawn:
			SLAU ABCD 5
			loop
		Death:
			SLAU A -1
			stop
	}
}

// FAST FOOD

actor Ketchup 20323
{
Height 8
Radius 6
Scale 0.60
+SOLID
States
{
Spawn:
KETC A -1
stop
}
}

actor Drink : PowerupGiver 20324
{
Height 8
Radius 8
inventory.pickupmessage "Drank some Orange Soda! (+8 Seconds of Invul)"
powerup.color "FF A0 00", 0.1
powerup.duration 280
inventory.respawntics 420
inventory.maxamount 4
inventory.pickupsound "drinkpickup"
powerup.type Invulnerable
powerup.mode Reflective
-INVENTORY.INVBAR
+INVENTORY.AUTOACTIVATE
+INVENTORY.ADDITIVETIME
+INVENTORY.ALWAYSPICKUP
States
{
Spawn:
DRIN A -1
stop
}
}

actor Napkins 20326
{
Height 16
Radius 6
Scale 0.75
+SOLID
States
{
Spawn:
NAPK A -1
stop
}
}

ACTOR HellbenderPickup : CustomInventory 20525
{
	Radius 16
	Height 40
	Inventory.Amount 1
	Inventory.MaxAmount 1
	Inventory.PickupMessage "Hellbender!"
	inventory.respawntics 999999
	+INVENTORY.INTERHUBSTRIP
	+INVENTORY.UNDROPPABLE
	-SOLID
	States
	{
	Spawn:
		SHIP A -1
		Loop
	Pickup:
		SHIP A 0
		SHIP A 0 A_JumpIfInventory("DeathbringerCannons", 1, "ShipFail")
		SHIP A 0
		goto ShipUse
	ShipUse:
		SHIP A 0
		SHIP A 0 ACS_Execute(500, 0)
		stop
	ShipFail:
		SHIP A 0
		SHIP A 0
		stop
	}
}

Actor DeathbringerPickup : HellbenderPickup 26173
{
	Inventory.PickupMessage "Deathbringer!"
	States
	{
	Pickup:
		SHIP A 0
		SHIP A 0 A_JumpIfInventory("ValkrieCannons", 1, "ShipFail")
		SHIP A 0
		goto ShipUse
	ShipUse:
		SHIP A 0
		SHIP A 0 ACS_Execute(501, 0)
		stop
	ShipFail:
		SHIP A 0
		SHIP A 0
		stop
	}
}

actor FlameStream
{
	projectile
	Radius 4
	Height 20
	obituary "%o was burned up by %k"
	speed 25
	damage (4)
	Scale 0.05
	Alpha 0.7
	RenderStyle Add
	seesound "vile/firestrt"
	DamageType "Fire"
	+RIPPER
	-BLOODSPLATTER
	+BLOODLESSIMPACT
	+NODAMAGETHRUST
	+CANNOTPUSH
	States
	{
		Spawn:
			FIR1 A 0
			FIR1 A 0 A_Jump(256, "Fire1", "Fire2", "Fire3", "Fire4", "Fire5", "Fire6", "Fire7", "Fire8", "Fire9", "Fire10")
			goto Fire1
		Fire1:
			FIR1 ABCDEFGHIJKLMNOPQR 1 BRIGHT A_SetScale(scalex+frandom(0.05, 0.1))
			stop
		Fire2:
			FIR2 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 BRIGHT A_SetScale(scalex+frandom(0.05, 0.1))
			FI22 AB 1 BRIGHT A_SetScale(scalex+frandom(0.05, 0.1))
			stop
		Fire3:
			FIR3 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 BRIGHT A_SetScale(scalex+frandom(0.05, 0.1))
			stop
		Fire4:
			FIR4 ABCDEFGHIJKLMNOPQRST 1 BRIGHT A_SetScale(scalex+frandom(0.05, 0.1))
			stop
		Fire5:
			FIR5 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 BRIGHT A_SetScale(scalex+frandom(0.05, 0.1))
			FI52 AB 1 BRIGHT A_SetScale(scalex+frandom(0.05, 0.1))
			stop
		Fire6:
			FIR6 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 BRIGHT A_SetScale(scalex+frandom(0.05, 0.1))
			FI62 AB 1 BRIGHT A_SetScale(scalex+frandom(0.05, 0.1))
			stop
		Fire7:
			FIR7 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 BRIGHT A_SetScale(scalex+frandom(0.05, 0.1))
			FI72 AB 1 BRIGHT A_SetScale(scalex+frandom(0.05, 0.1))
			stop
		Fire8:
			FIR8 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 BRIGHT A_SetScale(scalex+frandom(0.05, 0.1))
			FI82 ABCD 1 BRIGHT A_SetScale(scalex+frandom(0.05, 0.1))
			stop
		Fire9:
			FIR9 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 BRIGHT A_SetScale(scalex+frandom(0.05, 0.1))
			FI92 ABCD 1 BRIGHT A_SetScale(scalex+frandom(0.05, 0.1))
			stop
		Fire10:
			FIR0 ABCDEFGHIJKLMNO 1 BRIGHT A_SetScale(scalex+frandom(0.05, 0.1))
			stop
		Death:
			TNT1 A 0
			TNT1 A 0 A_Jump(160, "NoIgnite")
			TNT1 A 1 A_CustomMissile("IgnitedSurface", random(5,15), random(-15, 15), 0, 0)
			stop
		NoIgnite:
			TNT1 A 0
			TNT1 A 1
			stop
	}
}

actor FlameStreamStart : FlameStream
{
	Seesound "FlameThrower"
}

ACTOR FlameHeat : Inventory
{
	Inventory.MaxAmount 100
	Inventory.Icon STTPRCNT
	-INVBAR
}

ACTOR FlameThrowerWeap : ClericWeapon 20994
{
	Weapon.SelectionOrder 300
	Inventory.PickupSound "misc/w_pkup"
	Inventory.PickupMessage "Picked Up A Flamethrower! Burn Baby Burn!"
	obituary "%o was burned up by %k"
	weapon.upsound "FlameThrowerRaise"
	Weapon.AmmoType1 "GasolineAmmo"
	Weapon.AmmoGive1 100
	Weapon.AmmoUse1 1
	+BLOODLESSIMPACT
	-BLOODSPLATTER
	Damagetype "Fire"
	Scale 0.90
	States
	{
		Spawn:
			FLMT A -1
			LOOP
		Ready:
			FLAM A 0 A_PlaySoundEx("FlameThrowerIdle", "SoundSlot7", 1, -1)
			FLAM A 0 A_JumpIf(waterlevel == 3, "WaterReady")
			FLAM A 0 A_TakeInventory("FlameHeat", 1)
			FLAM A 1 A_WeaponReady
			FLAM B 0 A_TakeInventory("FlameHeat", 1)
			FLAM B 1 A_WeaponReady
			FLAM C 0 A_TakeInventory("FlameHeat", 1)
			FLAM C 1 A_WeaponReady
			goto Ready+1
		WaterReady:
			FLAM E 0 A_TakeInventory("FlameHeat", 100)
			FLAM E 0 A_PlayWeaponSound("FlameThrowerCool")
			FLAM E 0 A_StopSoundEx("SoundSlot7")
			FLAM E 1 A_WeaponReady
			goto WaterReady+3
		Deselect:
			FLAM A 0 A_StopSoundEx("SoundSlot7")
			FLAM A 0 A_TakeInventory("FlameHeat", 100)
			FLAM ABC 1 A_Lower
			goto Deselect+2
		Select:
			FLAM ABC 1 A_Raise
			loop
		Fire:
			FLAF A 0 A_JumpIf(waterlevel == 3, "WaterFire")
			FLAF A 0 radius_quake(2, 2, 0, 1, 0)
			FLAF A 0 A_PlayWeaponSound("FlameThrowerIgnite")
			FLAF A 0 A_GiveInventory("FlameHeat", 1)
			FLAF A 1 BRIGHT A_FireCustomMissile("FlameStreamStart", 0, true, 12, 0)
			FLAF B 0 A_GiveInventory("FlameHeat", 1)
			FLAF B 1 BRIGHT A_FireCustomMissile("FlameStream", 0, false, 12, 0)
			FLAM A 1 A_Refire
			FLAM A 0 A_TakeInventory("FlameHeat", 10)
			Goto Ready
		Hold:
			FLAF A 0 A_JumpIf(waterlevel == 3, "WaterFire")
			FLAF A 0 A_JumpIfInventory("FlameHeat", 100, "Cooloff")
			FLAF A 0 A_PlaySoundEx("FlameThrowerLoop", "SoundSlot7", 1, -1)
			FLAF A 0 A_GiveInventory("FlameHeat", 1)
			FLAF A 1 BRIGHT A_FireCustomMissile("FlameStream", 0, true, 12, 0)
			FLAF B 0 A_GiveInventory("FlameHeat", 1)
			FLAF B 1 BRIGHT A_FireCustomMissile("FlameStream", 0, false, 12, 0)
			FLAM A 1 A_Refire
			FLAF A 0 A_StopSoundEx("SoundSlot7")
			FLAM A 0 A_PlaySoundEx("FlameThrowerVent", auto, 0)
			FLAM A 0 A_PlayWeaponSound("FlameThrowerCool")
			FLAM ABCABC 2 A_FireCustomMissile("CoolingSmoke", random(-5, 5), 0, 3, 7)
			FLAM A 0 A_TakeInventory("FlameHeat", 10)
			FLAM A 0 A_FireCustomMissile("CoolingSmoke2", random(-3, 3), 0, 3, 7)
			FLAM A 1 A_Refire
			FLAM B 0 A_TakeInventory("FlameHeat", 5)
			FLAM B 0 A_FireCustomMissile("CoolingSmoke2", random(-3, 3), 0, 3, 7)
			FLAM B 1 A_Refire
			FLAM C 0 A_TakeInventory("FlameHeat", 5)
			FLAM C 0 A_FireCustomMissile("CoolingSmoke2", random(-3, 3), 0, 3, 7)
			FLAM C 1 A_Refire
			FLAM A 0 A_TakeInventory("FlameHeat", 5)
			FLAM A 0 A_FireCustomMissile("CoolingSmoke2", random(-3, 3), 0, 3, 7)
			FLAM A 1 A_Refire
			FLAM B 0 A_TakeInventory("FlameHeat", 5)
			FLAM B 0 A_FireCustomMissile("CoolingSmoke2", random(-3, 3), 0, 3, 7)
			FLAM B 1 A_Refire
			FLAM C 0 A_FireCustomMissile("CoolingSmoke2", random(-3, 3), 0, 3, 7)
			FLAM C 1 A_Refire
			FLAM A 0 A_FireCustomMissile("CoolingSmoke2", random(-3, 3), 0, 3, 7)
			FLAM A 1 A_Refire
			FLAM B 0 A_FireCustomMissile("CoolingSmoke2", random(-3, 3), 0, 3, 7)
			FLAM B 1 A_Refire
			FLAM C 0 A_FireCustomMissile("CoolingSmoke2", random(-3, 3), 0, 3, 7)
			FLAM C 1 A_Refire
			goto Ready
		Cooloff:
			FLAF A 0 A_StopSoundEx("SoundSlot7")
			FLAM A 0 A_PlaySoundEx("FlameThrowerVent", auto, 0)
			FLAM A 0 A_PlayWeaponSound("FlameThrowerCool")
			FLAM ABCABC 2 A_FireCustomMissile("CoolingSmoke", random(-5, 5), 0, 3, 7)
			FLAM A 0 A_TakeInventory("FlameHeat", 10)
			FLAM A 0 A_FireCustomMissile("CoolingSmoke2", random(-3, 3), 0, 3, 7)
			FLAM A 1
			FLAM B 0 A_TakeInventory("FlameHeat", 10)
			FLAM B 0 A_FireCustomMissile("CoolingSmoke2", random(-3, 3), 0, 3, 7)
			FLAM B 1
			FLAM C 0 A_TakeInventory("FlameHeat", 10)
			FLAM C 0 A_FireCustomMissile("CoolingSmoke2", random(-3, 3), 0, 3, 7)
			FLAM C 1
			FLAM A 0 A_TakeInventory("FlameHeat", 10)
			FLAM A 0 A_FireCustomMissile("CoolingSmoke2", random(-3, 3), 0, 3, 7)
			FLAM A 1
			FLAM B 0 A_TakeInventory("FlameHeat", 10)
			FLAM B 0 A_FireCustomMissile("CoolingSmoke2", random(-3, 3), 0, 3, 7)
			FLAM B 1
			FLAM CABC 1 A_FireCustomMissile("CoolingSmoke2", random(-3, 3), 0, 3, 7)
			FLAM CABCABCABCABCAB 1
			FLAM C 1 A_Refire
			goto Ready
		WaterFire:
			FLAM E 0 A_TakeInventory("FlameHeat", 100)
			FLAM E 0 A_JumpIf(waterlevel == 0, "Ready")
			FLAM E 0 A_JumpIf(waterlevel == 1, "Ready")
			FLAM E 0 A_StopSoundEx("SoundSlot7")
			FLAM E 20 A_PlayWeaponSound("FlameThrowerCool")
			goto WaterReady+3
	}
}

actor RifleSmoke
{
	Projectile
	Speed 20
	Radius 1
	Height 1
	Damage 0
	States
	{
		Spawn:
		TNT1 A 0
		TNT1 A 1
		TNT1 A 0 A_Jump(128, "Spawn2")
		TNT1 A 0 A_SpawnItemEx("BulletSmoke", 0, 0, 0, 0, 0, 1, 0, 128, 0)
		stop
		Spawn2:
		TNT1 A 0 A_SpawnItemEx("BulletSmoke2", 0, 0, 0, 0, 0, 1, 0, 128, 0)
		stop
	}
}

actor FairyBow : FighterWeapon
{
	decal BulletChip
	obituary "%o was shot by %k's fairy bow."
	Inventory.PickupSound "misc/w_pkup"
	Inventory.PickupMessage "Recovered A Fairy Bow!"
	weapon.selectionorder 2900
	weapon.kickback 80
	Weapon.AmmoType1 "MechAmmo"
	AttackSound "instagibbow"
	+WEAPON.NOALERT
	+WEAPON.CHEATNOTWEAPON
	Scale 0.80
	states
	{
		Ready:
			FBOW A 1 A_WeaponReady
			loop
		Deselect:
			FBOW A 1 A_Lower
			loop
		Select:
			FBOW A 1 A_Raise
			loop
		Fire:
			FBOW A 0 A_PlaysoundEX("BowPull", Auto, 0)
			FBOW ABCDE 1
			FBOW E 0 A_Refire
			goto Ready
		Hold:
			FBOW E 2
			FBOW E 0
			FBOW E 0 A_Refire
			FBOW E 0 A_JumpIfInventory("MechAmmo", 1, "NormalFire")
			goto Ready
		NormalFire:
			FBOW A 0 A_TakeInventory("MechAmmo", 1)
			FBOW A 10 A_FireCustomMissile("FairyArrow", 0, 1, 0, 0)
			goto Ready
		Flash:
			TNT1 A 0
			stop
	}
}

actor FairyArrow
{
	projectile
	Radius 2
	Height 2
	Speed 70
	Damage 10
	PoisonDamage 5
	Seesound "Bowshoot"
	Deathsound "Bowhit"
	Gravity 0.1
	-NOGRAVITY
	+BLOODSPLATTER
	+NOEXTREMEDEATH
	+FORCEXYBILLBOARD
	States
	{
		Spawn:
			ARWP A 1
			loop
		XDeath:
			TNT1 A 0
			TNT1 A 0 A_GiveToTarget("HitConfirmation", 1)
			goto Death
		Death:
			PUFF BCD 1
			stop
	}
}

actor IPodLauncher : Weapon 24305
{
	decal BulletChip
	obituary "%o swallowed %k's IPod."
	Inventory.PickupSound "misc/w_pkup"
	Inventory.PickupMessage "Picked Up The IPod Launcher!"
	weapon.selectionorder 1000
	weapon.kickback 80
	Weapon.AmmoType1 "CellAmmo"
	Weapon.AmmoType2 "CellAmmo"
	Weapon.AmmoGive 40
	Weapon.AmmoUse1 1
	Weapon.AmmoUse2 20
	+WEAPON.NOALERT
	Scale 0.95
	states
	{
		Spawn:
			IPDP A -1
			loop
		Ready:
			IPDG A 1 A_WeaponReady
			loop
		Deselect:
			IPDG A 1 A_Lower
			loop
		Select:
			IPDG A 1 A_Raise
			loop
		Fire:
			IPDG B 0 A_PlaysoundEX("IPodLaunch", Weapon, 0)
			IPDG B 0 A_FireCustomMissile("IPod", 0, 1, 8, 0)
			IPDG B 1 A_SetPitch(pitch-3)
			IPDG CD 1 A_SetPitch(pitch+0.5)
			IPDG EFGH 1 A_SetPitch(pitch+0.5)
			IPDG A 3
			IPDG A 0 A_Refire
			goto Ready
		AltFire:
			IPDG B 0 A_PlaysoundEX("IPodLaunch", Weapon, 0)
			IPDG B 0 A_FireCustomMissile("GiantIPod", 0, 1, 8, 0)
			IPDG B 2 A_SetPitch(pitch-6)
			IPDG CD 2 A_SetPitch(pitch+1)
			IPDG EFGH 2 A_SetPitch(pitch+1)
			IPDG A 30
			IPDG A 0 A_Refire
			goto Ready
		Flash:
			TNT1 A 0
			stop
	}
}

actor WeatherBall : HornRodFX2 Replaces HornRodFX2
{
	Speed 30
	Damage 10
	+NODAMAGETHRUST
	+FORCEXYBILLBOARD
	states
	{
		XDeath:
			TNT1 A 0
			TNT1 A 0 A_GiveToTarget("HitConfirmation", 1)
			goto Death
	}
}

actor RainPillarZ : RainPillar Replaces RainPillar
{
	Damage 12
	+NODAMAGETHRUST
	states
	{
		XDeath:
			TNT1 A 0
			TNT1 A 0 A_GiveToTarget("HitConfirmation", 1)
			goto Death
	}
}

actor WeatherMaker : Weapon 24306
{
	decal BulletChip
	obituary "%o got rained on by %k's weathermaker."
	Inventory.PickupSound "misc/w_pkup"
	Inventory.PickupMessage "Got the WeatherMaker! Muahaha!"
	weapon.selectionorder 900
	weapon.kickback 200
	Weapon.AmmoType1 "CellAmmo"
	Weapon.AmmoGive 60
	Weapon.AmmoUse1 5
	states
	{
		Spawn:
			WTHP A -1
			loop
		Ready:
			WEAT AABBCCDD 1 A_WeaponReady
			WEAT A 0 A_Playsound("WeatherBuzz")
			loop
		Deselect:
			WEAT A 1 A_Lower
			loop
		Select:
			WEAT A 1 A_Raise
			loop
		Fire:
			WEAT A 0 A_PlaysoundEX("WeatherMaker", Weapon, 0)
			WEAT E 1 A_FireCustomMissile("WeatherBall", 0, 1, 0, 0)
			WEAT F 1
			WEAT G 1
			WEAT FE 2
			WEAT ABCDABCDABCD 2
			WEAT A 0 A_Refire
			goto Ready
		Flash:
			TNT1 A 0
			stop
	}
}

actor ReflectSphere : CustomInventory 10492
{
	inventory.pickupmessage "Reflection Sphere!"
	inventory.pickupsound "misc/p_pkup"
	+COUNTITEM
	+AUTOACTIVATE
	+FORCEXYBILLBOARD
	+FLOATBOB
	RenderStyle Add
	Alpha 0.7
	Scale 0.70
	states
	{
		Spawn:
			REFS A -1 BRIGHT
			stop
		Pickup:
			TNT1 A 0 A_Giveinventory("SoulSphere", 1)
			TNT1 A 0 A_Giveinventory("RedArmor", 200)
			TNT1 A 0 A_Giveinventory("GuardSphere", 1)
			TNT1 A 0 A_SetReflective
			stop
	}
}

actor ZoomCheck : Inventory
{
inventory.amount 1
inventory.maxamount 1
-INVBAR
-INTERHUBSTRIP
+INVENTORY.UNDROPPABLE
+INVENTORY.HUBPOWER
states
{
Spawn:
	TNT1 A 1
	loop
}
}

actor BigPalm 14321
{
height 128
radius 16
//mass 9999999
//Health 999999
+SOLID
//+INVULNERABLE
//+NODAMAGE
//+NOBLOOD
//+SHOOTABLE
+FORCEYBILLBOARD
States
{
Spawn:
PTRE A 20
PTRE B 10
loop
}
}

actor SoccerBall 14322
{
radius 16
height 26
Health 999999999999
Mass 1
Painchance 200
RenderStyle Add
Alpha 0.9
SpawnId 246
+SOLID
+SHOOTABLE
+PUSHABLE
+NOBLOOD
+SLIDESONWALLS
-NOTELEPORT
+TELESTOMP
-NOBLOCKMONST
-DONTBLAST
+DONTMORPH
+DONTSQUASH
+ACTIVATEMCROSS
+CANPASS
States
{
Death:
Spawn:
BALL A -1
loop
Pain:
BALL A 0
BALL A 0 ThrustThingZ(0, 35, 0, 0)
goto Spawn
}
}

actor SoccerKick : Weapon
{
	decal BulletChip
	obituary "%k got a Red Card in Soccer."
	Inventory.PickupSound "misc/w_pkup"
	Inventory.PickupMessage "You're Not Supposed to Have This..."
	weapon.selectionorder 1
	weapon.kickback 200
	+WEAPON.CHEATNOTWEAPON
	+WEAPON.NOLMS
	states
	{
	Ready:
		PUNG A 1 A_WeaponReady
		loop
	Select:
		PUNG A 1 A_Raise
		loop
	Deselect:
		PUNG A 1 A_Lower
		loop
	Fire:
		BOOT A 3 A_Playsound("KickSwing")
		BOOT B 3
		BOOT C 4 A_CustomPunch(7, 0, 0, "BootHit", 64)
		BOOT B 4
		BOOT A 4
		PUNG A 2
		PUNG A 0 A_Refire
		goto Ready
	}
}

ACTOR NukeLauncher : Weapon 25005
{
	Inventory.PickupSound "misc/w_pkup"
	Inventory.PickupMessage "You found the Nuke Launcher!!!! MUAHAHAHAHAHAHA MASS DESTRUCTION TIME!!!"
	Obituary "%o got blown to fucking hell by %k's Nuke!!"
	Weapon.AmmoType "ProtonAmmo"
	Weapon.AmmoGive 10
	Weapon.AmmoUse 20
	AttackSound "NukeLaunch"
	Weapon.Kickback 50000
	Weapon.SelectionOrder 1
	+WEAPON.BFG
	+WEAPON.NOLMS
	States
	{
		Spawn:
			NUKP A -1
			Loop
		Ready:
			NUKL A 1 A_WeaponReady
			Loop
		Deselect:
			NUKL A 1 A_Lower
			Loop
		Select:
			NUKL A 2 A_Raise
			Loop
		Fire:
			NUKL A 0
			NUKL B 4 BRIGHT A_FireCustomMissile("Nuke",0,15,0,0)
			NUKL A 60
			NUKL A 1 A_REFIRE
			Goto Ready
	}
}

actor NukeRandom
{
	renderstyle Add
	Damage 0
	alpha 0.75
	+NOBLOCKMAP
	+NOGRAVITY
	+EXTREMEDEATH
	Scale 1.5
	states
	{
		Spawn:
			NEXP A 0
			NEXP A 0 A_Playsound("NukeExplode")
			NEXP A 0 A_Explode(400, 400)
			NEXP ABCDEFGHIJKLMNOPQRSTU 3 bright
			stop
	}
}

actor NukeRandom_NoSound : NukeRandom
{
	states
	{
		Spawn:
			NEXP A 0
			NEXP A 0 A_Explode(400, 400)
			NEXP ABCDEFGHIJKLMNOPQRSTU 3 bright
			stop
	}
}

actor NukeRandom2 : NukeRandom
{
	states
	{
		Spawn:
			NEXP ABCDEFGHIJKLMNOPQRSTU 1 bright
			stop
	}
}

actor NukeHuge : NukeRandom
{
	Scale 2.0
	states
	{
		Spawn:
			NEXP ABCDEFGHIJKLMNOPQRSTU 4 bright
			stop
	}
}

actor NukeHarmless : NukeHuge
{
	Scale 1.2
}

actor NukedAreaFlames : IgnitedSurface
{
	obituary "%o got caught in the heat zone of %k's nuke"
	States
	{
	Spawn:
		TNT1 A 0 A_CountDown
		TNT1 A 0 A_SpawnItemEx("BasicFlame", random(-10,10), Random(-10,10), 0, 0, 0, Random(1, 2), 0, 128, 64)
		TNT1 A 2 A_Explode(8, 24, 1)
		TNT1 A 0 A_JumpIf(waterlevel == 3, "Disappear")
		loop
	}
}

actor NukeRadiation
{
	height 64
	radius 16
	speed 0
	Renderstyle Add
	Alpha 0.2
	Scale 2.5
	Projectile
	-nogravity
	+nodamagethrust
	+hexenbounce
	+FORCERADIUSDMG
	Bouncefactor 0
	states
	{
	Spawn:
		TNT1 A 0
		NEXP ABCDEFGHIJKLMNOPQRSTU 8 bright A_Explode(46, 456)
		stop
	}
}

actor Duke64ExplosionShell
{
	Height 1
	Radius 1
	Speed 0
	RenderStyle Add
	Alpha 0.6
	+NOGRAVITY
	+NOBLOCKMAP
	+NOCLIP
	+CLIENTSIDEONLY
	+FORCEXYBILLBOARD
	States
	{
	Spawn:
		NULL ABCDEFGH 2 BRIGHT
		NULL IJKL 2 BRIGHT A_FadeOut(0.12)
		stop
	}
}

actor Duke64ExplosionRing
{
	Height 1
	Radius 1
	Speed 0
	RenderStyle Add
	Alpha 0.4
	+NOGRAVITY
	+NOBLOCKMAP
	+NOCLIP
	+CLIENTSIDEONLY
	+FORCEXYBILLBOARD
	States
	{
	Spawn:
		NULL ABC 1 BRIGHT
		NULL DEFGH 1 BRIGHT A_FadeOut(0.07)
		stop
	}
}

actor NukeExplosionRing : Duke64ExplosionRing
{
	Scale 4
	Alpha 0.6
}

actor Nuke
{
	Projectile
	speed 35
	radius 8
	height 8
	DamageType "Nuke"
	seesound "NukeLaunch"
	obituary "%o got blown to fucking hell by %k's Nuke!!"
	+EXTREMEDEATH
	+FORCERADIUSDMG
	-NOGRAVITY
	states
	{
		Spawn:
			NUKE AB 4 bright
			loop
		Death:
			NUKE A 20
			NUKE B 10 BRIGHT A_Playsound("NukeBeep")
			NUKE A 20
			NUKE B 10 BRIGHT A_Playsound("NukeBeep")
			NUKE A 20
			NUKE B 10 BRIGHT A_Playsound("NukeBeep")
			NUKE A 20
			NUKE B 10 BRIGHT A_Playsound("NukeBeep")
			NUKE A 20
			NUKE B 10 BRIGHT A_Playsound("NukeBeep")
			NUKE A 20
			NUKE B 10 BRIGHT A_Playsound("NukeBeep")
			NUKE A 20
			NUKE B 10 BRIGHT A_Playsound("NukeBeep")
			NUKE A 20
			NUKE B 10 BRIGHT A_Playsound("NukeBeep")
			NUKE A 20
			NUKE B 10 BRIGHT A_Playsound("NukeBeep")
			NUKE A 20
			NUKE B 10 BRIGHT A_Playsound("NukeBeep")
			NUKE A 20
			NUKE B 10 BRIGHT A_Playsound("NukeBeep")
			NUKE A 20
			NUKE B 10 BRIGHT A_Playsound("NukeBeep")
			NUKE A 20
			NUKE B 10 BRIGHT A_Playsound("NukeBeep")
			NUKE A 10
			NUKE B 5 BRIGHT A_Playsound("NukeBeep")
			NUKE A 10
			NUKE B 5 BRIGHT A_Playsound("NukeBeep")
			NUKE A 10
			NUKE B 5 BRIGHT A_Playsound("NukeBeep")
			NUKE A 10
			NUKE B 5 BRIGHT A_Playsound("NukeBeep")
			NUKE A 7
			NUKE B 4 BRIGHT A_Playsound("NukeBeep")
			NUKE A 7
			NUKE B 4 BRIGHT A_Playsound("NukeBeep")
			NUKE A 7
			NUKE B 4 BRIGHT A_Playsound("NukeBeep")
			NUKE A 2
			NUKE B 2 BRIGHT A_Playsound("NukeBeep")
			NUKE A 2
			NUKE B 2 BRIGHT A_Playsound("NukeBeep")
			NUKE A 2
			NUKE B 2 BRIGHT A_Playsound("NukeBeep")
			NUKE A 2
			NUKE B 2 BRIGHT A_Playsound("NukeBeep")
			NUKE A 2
			NUKE B 2 BRIGHT A_Playsound("NukeBeep")
			NUKE A 2
			NUKE B 2 BRIGHT A_Playsound("NukeBeep")
			NUKE A 2
			NUKE B 2 BRIGHT A_Playsound("NukeBeep")
			NUKE A 2
			NUKE B 2 BRIGHT A_Playsound("NukeBeep")
			NUKE A 28 A_PlaySoundEx("WTFBoom", "auto", 0)
			NEXP A 0 Radius_Quake(6, 68, 0, 20, 0)
			NEXP A 0 A_PlaySoundEx ("NukeExplode", "Auto", 0, 0.6)
			NEXP A 0 A_SpawnItemEx("NukeHuge", 0, 0, 0, 0, 0, 0, 0, 0, 0)
			NEXP A 0 A_SpawnItemEx("NukeExplosionRing", 0, 0, 70, 0, 0, 0, 0, SXF_CLIENTSIDE, 0)
			FIRE AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 BRIGHT A_SpawnItemEx("NukedAreaFlames", 0, 0, Random(0, 56), Random(-12,12), Random(-12,12), Random(0,16), 0, 0, 76)
			NEXP AAAAAAAAAAAAAAAAAAAAAA 0 Bright A_CustomMissile("Gascloud1",32,0,Random(-180,180), CMF_AIMDIRECTION | CMF_TRACKOWNER, random(0, 90))
			TNT1 AAAAA 0 A_SpawnItemEx("NukeRandom_NoSound", Random(-128, 128), Random(-128, 128), Random(0, 128), 0, 0, 0, 0, 0, 0)
			TNT1 AAAAAAAAAAAA 0 A_SpawnItemEx("NukeRandom_NoSound", Random(-192, 192), Random(-192, 192), Random(128, 256), 0, 0, 0, 0, 0, 0)
			TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("NukeHarmless", Random(-192, 192), Random(-192, 192), Random(128, 256), 0, 0, 0, 0, SXF_CLIENTSIDE, 0)
			TNT1 A 0 Bright A_CustomMissile("NukeRadiation", 32, 0, 0, CMF_AIMDIRECTION | CMF_TRACKOWNER)
			NEXP A 0 A_Explode(1256, 1024)
			NEXP ABCDEFGHIJKLMNOPQRSTU 5 bright A_SpawnItemEx("NukeRandom", Random(-128, 128), Random(-128, 128), Random(0, 128), 0, 0, 0, 0, 0, 0)
			stop
	}
}

Actor GasCloud1
{
	Projectile
	Radius 8
	Height 8
	Speed 20
	explosionradius 45
	explosiondamage 10
	RenderStyle Add
	Alpha 0.4
	obituary "%o sucks %k's radioactive gas."
	Reactiontime 64
	+NOGRAVITY
	+NODAMAGETHRUST
	+HEXENBOUNCE
	+FORCERADIUSDMG
	+FORCEXYBILLBOARD
	+SKYEXPLODE
	+FLOATBOB
	States
	{
	Spawn:
		PSNE ABCDEFG 4 A_Explode
		PSNE A 0 A_Countdown
		Goto Spawn+3
	Death:
		PSNE ABCDEFG 4 A_Fadeout
		loop
	}
}

actor ForcePullAttack : LoreShot
{
	Height 1
	Radius 1
	Damage 1
	speed 100
	SeeSound "ForcePull"
	+SEEKERMISSILE
	states
	{
	Spawn:
		FORC ABCDEFEDCB 2 BRIGHT A_Tracer2
		loop
	Death:
		TNT1 A 4
		stop
	}
}

actor ForceFX
{
	Height 1
	Radius 1
	Damage 1
	Projectile
	speed 0
	Scale 0.86
	+GRENADETRAIL
	+GHOST
	+THRUGHOST
	+CORPSE
	+FORCEXYBILLBOARD
	states
	{
	Spawn:
		FORC ABCDEFE 2 BRIGHT
		stop
	Death:
		TNT1 A 4
		stop
	}
}

actor SmallPalm 10594
{
height 64
radius 10
+SOLID
Scale 0.5
+FORCEYBILLBOARD
States
{
Spawn:
PTRE A 20
PTRE B 10
loop
}
}

actor TurretFlare
{
SpawnID 249
RenderStyle Add
Scale 0.4
Speed 20
Damage 0
PROJECTILE
+NOCLIP
States
{
Spawn:
	GNFL A 3 bright
	Stop
}
}

actor MagmaBall
{
	Radius 10
	Height 10
	Speed 20
	Damage 20
	SpawnID 248
	Projectile
	Seesound "MagmaFly"
	DeathSound "MagmaHit"
	-NOGRAVITY
	+LOWGRAVITY
	+FORCEXYBILLBOARD
	States
	{
		Spawn:
			GIPS ABC 4 BRIGHT
			loop
		Death:
			GIPS D 4 BRIGHT
			GIPD ABCDE 4 BRIGHT
			stop
	}
}

ACTOR BurnDeath1
{
	Radius 12
	Height 56
	Speed 6
	Scale 0.85
	+FIREDAMAGE
	+FLOORCLIP
	+LOOKALLAROUND
	Obituary "%o was too close to a burning zombie."
	SeeSound "burningup"
	RenderStyle Add
	Alpha 0.9
	ExplosionDamage 4
	ExplosionRadius 32
	States
	{
	Spawn:
		BDT1 A 0
		BDT1 A 0 A_Jump(32,7)
		BDT1 DDDDDD 1 Bright A_Look
		Goto Death
		BDT1 E 0 A_PlaySound("grunt/death")
		BDT1 E 0 A_SpawnItem("BurnedSkeleton1",1,0,0)
		BDT1 EFGHIJKLM 4 Bright A_Explode
		BDT1 N 5 Bright
		BDT1 O 6 Bright
		Stop
	See:
		BDT1 A 0 A_Explode
		BDT1 A 0 A_PlaySound("grunt/pain")
		BDT1 A 0 A_Jump(100, 13)
		BDT1 AAA 1 Bright A_Wander
		BDT1 A 0 A_Explode
		BDT1 BBB 1 Bright A_Wander
		BDT1 B 0 A_Explode
		TNT1 A 0 A_CustomMissile("IgnitedSurface", random(5,15), random(-15, 15), 0, 0)
		BDT1 CCC 1 Bright A_Wander
		BDT1 B 0 A_Explode
		BDT1 DDD 1 Bright A_Wander
		BDT1 C 0 A_PlaySound("grunt/pain")
		BDT1 C 0 A_Explode
		BDT1 AAA 1 Bright A_Wander
		BDT1 C 0 A_Explode
		BDT1 BBB 1 Bright A_Wander
		BDT1 D 0 A_Explode
		BDT1 CCC 1 Bright A_Wander
		BDT1 D 0 A_Explode
		TNT1 A 0 A_CustomMissile("IgnitedSurface", random(5,15), random(-15, 15), 0, 0)
		BDT1 DDD 1 Bright A_Wander
		BDT1 A 0 A_PlaySound("grunt/sight")
		BDT1 A 0 A_Explode
		BDT1 A 0 A_Jump(68, 16)
		BDT1 AAA 1 Bright A_Wander
		BDT1 A 0 A_Explode
		BDT1 BBB 1 Bright A_Wander
		BDT1 B 0 A_Explode
		BDT1 CCC 1 Bright A_Wander
		BDT1 B 0 A_Explode
		BDT1 DDD 1 Bright A_Wander
		BDT1 C 0 A_Explode
		BDT1 C 0 A_PlaySound("grunt/pain")
		BDT1 AAA 1 Bright A_Wander
		BDT1 C 0 A_Explode
		BDT1 BBB 1 Bright A_Wander
		BDT1 D 0 A_Explode
		TNT1 A 0 A_CustomMissile("IgnitedSurface", random(5,15), random(-15, 15), 0, 0)
		BDT1 CCC 1 Bright A_Wander
		BDT1 D 0 A_Explode
		BDT1 DDD 1 Bright A_Wander
		BDT1 A 0 A_PlaySound("grunt/pain")
		BDT1 A 0 A_Explode
		BDT1 AAA 1 Bright A_Wander
		BDT1 A 0 A_Explode
		BDT1 BBB 1 Bright A_Wander
		BDT1 B 0 A_Explode
		TNT1 A 0 A_CustomMissile("IgnitedSurface", random(5,15), random(-15, 15), 0, 0)
		BDT1 CCC 1 Bright A_Wander
		BDT1 B 0 A_Explode
		BDT1 DDD 1 Bright A_Wander
		BDT1 C 0 A_Explode
		BDT1 C 0 A_PlaySound("grunt/sight")
		BDT1 AAA 1 Bright A_Chase
		BDT1 C 0 A_Explode
		BDT1 BBB 1 Bright A_Wander
		BDT1 D 0 A_Explode
		TNT1 A 0 A_CustomMissile("IgnitedSurface", random(5,15), random(-15, 15), 0, 0)
		BDT1 CCC 1 Bright A_Wander
		BDT1 D 0 A_Explode
		BDT1 DDD 1 Bright A_Wander
		BDT1 A 0 A_PlaySound("grunt/pain")
		BDT1 A 0 A_Explode
		BDT1 AAA 1 Bright A_Wander
		BDT1 A 0 A_Explode
		BDT1 BBB 1 Bright A_Wander
		BDT1 B 0 A_Explode
		BDT1 CCC 1 Bright A_Wander
		BDT1 B 0 A_Explode
		BDT1 DDD 1 Bright A_Wander
	Death:
		BDT1 E 0 A_PlaySound("grunt/death")
		BDT1 EFGHIJKLM 4 Bright A_Explode
		BDT1 N 5 Bright
		BDT1 O 6 Bright
		Stop
	}
}

actor IgnitedGas : IgnitedSurface
{
	obituary "%o was purified by %k's cleansing flame."
	states
	{
	Spawn:
		TNT1 A 0 A_CountDown
		TNT1 A 0 A_SpawnItemEx("BasicFlame", random(-8,8), Random(-8,8), 0, 0, 0, Random(1, 2), 0, SXF_CLIENTSIDE, 128)
		TNT1 A 2 A_Explode(5, 20, 1)
		TNT1 A 0 A_JumpIf(waterlevel == 3, "Disappear")
		loop
	}
}

actor GasPuddle
{
	RenderStyle Translucent
	Alpha 0.1
	Scale 0.75
	Radius 10
	Height 4
	Health 1
	obituary "%o was purified by %k's cleansing flame."
	DamageType "Fire"
	DamageFactor "Ice", 0
	DamageFactor "IceRod", 0
	DamageFactor "Fist", 0
	Species "Gasoline"
	+SHOOTABLE
	+NOBLOOD
	+NODAMAGETHRUST
	+FORCERADIUSDMG
	+FORCEXYBILLBOARD
	+THRUSPECIES
	+NOTAUTOAIMED
	-SOLID
	-NOBLOCKMAP
	-NOGRAVITY
	States
	{
		Spawn:
			PUDD A 2100
			stop
		Death:
			PUDD A 2 A_SetTranslucent(0.07, 1)
			PUDD A 2 A_SetTranslucent(0.05, 1)
			TNT1 A 0 A_PlaySound("BurningUp")
			TNT1 A 0 A_Explode(8, 38, 1)
			TNT1 A 1 A_SpawnItemEx("IgnitedGas", 0, 0, 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS, 0)
			stop
	}
}

actor Gasoline
{
	Projectile
	Radius 10
	Height 4
	Damage 0
	Speed 12
	Scale 0.75
	Species "Gasoline"
	RenderStyle Translucent
	Alpha 0.2
	+FORCEXYBILLBOARD
	+THRUSPECIES
	+CORPSE
	-NOGRAVITY
	-NOBLOCKMAP
	-SOLID
	states
	{
	Death:
	Spawn:
		WSP2 ABCDEF 4
		loop
	Crash:
		TNT1 A 1 A_SpawnItemEx("GasPuddle", frandom(-4.0, 4.0), frandom(-4.0, 4.0), 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS, 0)
		stop
	}
}

actor GasolineCan : Weapon
{
	obituary "%o was purified by %k's cleansing flame."
	radius 20
	height 16
	inventory.pickupmessage "You got a Can of Gas!"
	weapon.selectionorder 9999
	weapon.kickback 300
	weapon.ammotype "GasolineAmmo"
	weapon.ammouse 1
	weapon.ammogive 100
	+WEAPON.NOALERT
	+WEAPON.WIMPY_WEAPON
	+WEAPON.NOAUTOAIM
	States
	{
		Select:
			GASG A 1 A_Raise
			loop

		Deselect:
			GASG A 1 A_Lower
			loop

		Ready:
			GASG A 1 A_WeaponReady
			loop

		Fire:
			GASG A 2 A_PlaySound("Gasoline")
			GASG BCDEFG 2
			GASG HIJK 2 A_FireCustomMissile("Gasoline",Random(-5,5), 1, 4, 4)
			GASG LMNOPQ 2 A_FireCustomMissile("Gasoline",Random(-5,5), 0, 4, 4)
			GASG H 0 A_Refire
			GASG RSTUVWXYZ 2
			goto Ready

		Hold:
			GASG H 0 A_PlaySound("Gasoline")
			GASG HIJK 2 A_FireCustomMissile("Gasoline",Random(-5,5), 1, 4, 4)
			GASG LMNOPQ 2 A_FireCustomMissile("Gasoline",Random(-5,5), 0, 4, 4)
			GASG H 0 A_Refire
			GASG RSTUVWXYZ 2
			goto Ready
		Spawn:
			NULL A 0
			NULL A 1 A_SpawnItemEx("GasPickup", 0, 0, 0, 0, 0, 0, 0, 0, 0)
			stop
	}
}

ACTOR GasPickup : Custominventory 25375
{
	Scale 0.8
	inventory.pickupmessage "Can of Gas!"
	inventory.pickupsound "misc/p_pkup"
	+COUNTITEM
	States
	{
		Spawn:
			GCAN A -1
			loop
		Pickup:
			TNT1 A 0 A_GiveInventory ("GasolineCan")
			stop
	}
}

actor SledgeHammerMode : BaseCheck
{
}

actor ServoKineticMode : BaseCheck
{
}

actor ValkrieMode : BaseCheck
{
}

actor SledgeSelector : BaseCheck
{
}

actor ValkrieCannons : Weapon
{
	radius 20
	height 16
	weapon.selectionorder 1
	weapon.kickback 300
	weapon.ammouse 0
	+WEAPON.CHEATNOTWEAPON
	+WEAPON.DONTBOB
	+WEAPON.ALT_AMMO_OPTIONAL
	+WEAPON.NOLMS
	States
	{
		Select:
			TNT1 A 1 A_Raise
			TNT1 AAAAAAAAAAAA 0 BRIGHT A_Raise
			loop

			Deselect:
			TNT1 A 1 A_Lower
			TNT1 AAAAAAAAAAAA 0 A_Lower
			loop

			Ready:
			TNT1 A 1 A_WeaponReady
			loop

		Fire:
			TNT1 A 0 A_JumpIfInventory("SledgeHammerMode", 1, "SledgeHammerFire")
			TNT1 A 0 A_JumpIfInventory("ServoKineticMode", 1, "ServoKineticFire")
			TNT1 A 0 A_PlayWeaponSound("ValkrieFire")
			TNT1 A 1 A_FireCustomMissile("ValkrieShot", 0, 0, 45, -18)
			TNT1 A 5
			TNT1 A 0 A_PlayWeaponSound("ValkrieFire")
			TNT1 A 1 A_FireCustomMissile("ValkrieShot", 0, 0, -45, -18)
			TNT1 A 5
			TNT1 A 0 A_Refire
			goto Ready

		AltFire:
			TNT1 A 0 A_JumpIfInventory("SledgeHammerMode", 1, "ValkrieMode")
			TNT1 A 0 A_JumpIfInventory("ServoKineticMode", 1, "SledgeHammerMode")
			TNT1 A 0
			goto ServoKineticMode
		ServoKineticMode:
			TNT1 A 0 A_GiveInventory("ServoKineticMode", 1)
			TNT1 A 0 A_TakeInventory("SledgeHammerMode", 1)
			TNT1 A 0 A_TakeInventory("ValkrieMode", 1)
			TNT1 A 10 A_PlayWeaponSound("ChangeMode")
			goto Ready
		SledgeHammerMode:
			TNT1 A 0 A_GiveInventory("SledgeHammerMode", 1)
			TNT1 A 0 A_TakeInventory("ServoKineticMode", 1)
			TNT1 A 0 A_TakeInventory("ValkrieMode", 1)
			TNT1 A 10 A_PlayWeaponSound("ChangeMode")
			goto Ready
		ValkrieMode:
			TNT1 A 0 A_TakeInventory("SledgeHammerMode", 1)
			TNT1 A 0 A_TakeInventory("ServoKineticMode", 1)
			TNT1 A 0 A_GiveInventory("ValkrieMode", 1)
			TNT1 A 10 A_PlayWeaponSound("ChangeMode")
			goto Ready

		SledgeHammerFire:
			TNT1 A 0 A_JumpIfInventory("ProtonAmmo", 2, "SledgeFireLeft")
			TNT1 A 10
			goto Ready
		SledgeFireLeft:
			TNT1 A 0
			TNT1 A 0 A_JumpIfInventory("SledgeSelector", 1, "SledgeFireRight")
			TNT1 A 0 A_FireCustomMissile("SledgeHammerRocket", 0, 2, -40, -16)
			TNT1 A 0 A_TakeInventory("ProtonAmmo", 2)
			TNT1 A 0 A_GiveInventory("SledgeSelector", 1)
			TNT1 A 2
			TNT1 A 10
			TNT1 A 0 A_Refire
			goto Ready
		SledgeFireRight:
			TNT1 A 0
			TNT1 A 0 A_FireCustomMissile("SledgeHammerRocket", 0, 2, 40, -16)
			TNT1 A 0 A_TakeInventory("ProtonAmmo", 2)
			TNT1 A 0 A_TakeInventory("SledgeSelector", 1)
			TNT1 A 2
			TNT1 A 10
			TNT1 A 0 A_Refire
			goto Ready
		ServoKineticFire:
			TNT1 A 0 A_FireCustomMissile("ServoShot", 0, 0, 60, -16)
			TNT1 A 0 A_FireCustomMissile("ServoShot", 0, 0, -60, -16)
			TNT1 A 6
			TNT1 A 0 A_Refire
			goto Ready
	}
}

actor DeathbringerCannons : ValkrieCannons
{
	States
	{
	Fire:
		TNT1 A 0 A_JumpIfInventory("SledgeHammerMode", 1, "SledgeHammerFire")
		TNT1 A 0 A_JumpIfInventory("ServoKineticMode", 1, "ServoKineticFire")
		TNT1 A 0 A_PlayWeaponSound("ServoFire")
		TNT1 A 1 A_FireCustomMissile("RFLShot", 0, 0, 45, -18)
		TNT1 A 5
		TNT1 A 0 A_PlayWeaponSound("ServoFire")
		TNT1 A 1 A_FireCustomMissile("RFLShot", 0, 0, -45, -18)
		TNT1 A 5
		TNT1 A 0 A_Refire
		goto Ready
	ServoKineticFire:
		TNT1 A 0 A_FireCustomMissile("DeathbringerServoShot", 0, 0, 60, -16)
		TNT1 A 0 A_FireCustomMissile("DeathbringerServoShot", 0, 0, -60, -16)
		TNT1 A 6
		TNT1 A 0 A_Refire
		goto Ready
	}
}

Actor ValkrieTrail
{
	Radius 1
	Height 1
	Speed  0
	Damage 0
	+CORPSE
	+DONTSPLASH
	+NOGRAVITY
	-ACTIVATEPCROSS
	+FORCEXYBILLBOARD
	States
	{
	Spawn:
		VALK A 6 Bright
		stop
	Death:
		TNT1 A 1 Bright
		TNT1 A 1 Bright
		Stop
	}
}

Actor ValkrieHit
{
	Radius 1
	Height 1
	Speed  0
	Damage 0
	+CORPSE
	+DONTSPLASH
	+NOGRAVITY
	-ACTIVATEPCROSS
	+ROCKETTRAIL
	States
	{
	Spawn:
		TNT1 A 5 BRIGHT
		stop
	Death:
		TNT1 A 1 Bright
		TNT1 A 1 Bright
		Stop
	}
}

actor ValkrieShot : FastProjectile
{
	Radius 12
	Height 12
	Projectile
	+EXTREMEDEATH
	+FORCEXYBILLBOARD
	obituary "%o was turned to a bloody pile of mush by %k's Valkrie Cannons."
	Speed 225
	SeeSound "ValkrieFire"
	Damage 12
	States
	{
	Spawn:
		VALK AB 1 BRIGHT
		loop

	Death:
		TNT1 A 0
		TNT1 A 1 A_SpawnItemEx("ValkrieHit", 0, 0, 0, 0, 0, 0, 0, SXF_CLIENTSIDE, 0)
		stop
	}
}

actor RFLShot : FastProjectile
{
	Radius 12
	Height 12
	Projectile
	+EXTREMEDEATH
	+FORCEXYBILLBOARD
	obituary "%o was wiped from existence by %k's RFLs."
	Speed 225
	SeeSound "ServoFire"
	Damage 12
	States
	{
	Spawn:
		SERV A 1 BRIGHT
		loop

	Death:
		TNT1 A 0 A_SpawnItemEx("ServoHit", 0, 0, 0, 0, 0, 0, 0, SXF_CLIENTSIDE, 0)
		TNT1 A 1
		stop
	}
}

Actor ServoHit
{
	Radius 1
	Height 1
	Speed  0
	Damage 0
	Scale 0.8
	+CORPSE
	+DONTSPLASH
	+NOGRAVITY
	+FORCEXYBILLBOARD
	-ACTIVATEPCROSS
	-ACTIVATEIMPACT
	States
	{
	Spawn:
		HBEX ABCDEFGHIJKLMNOP 2 Bright
		stop
	Death:
		TNT1 A 1 Bright
		TNT1 A 1 Bright
		Stop
	}
}

actor ServoShot : FastProjectile
{
	Radius 12
	Height 12
	Projectile
	+EXTREMEDEATH
	-BLOODSPLATTER
	+BLOODLESSIMPACT
	+FORCEXYBILLBOARD
	+FORCERADIUSDMG
	obituary "%o had %p molecules scrambled by %k's servo-kinetic lasers."
	Speed 100
	SeeSound "ServoFire"
	DamageType "ServoLaser"
	Damage (32)
	States
	{
		Spawn:
			SERV A 1 BRIGHT
			loop

		Death:
			TNT1 A 0 A_SpawnItemEx("ServoHit", 0, 0, 0, 0, 0, 0, 0, SXF_CLIENTSIDE, 0)
			TNT1 A 0 A_Explode(28, 48, 0)
			TNT1 A 1
			stop
	}
}

actor DeathbringerServoShot : ServoShot
{
	SeeSound "DeathbringerServoFire"
}

Actor SledgeHammerTrail
{
	Radius 1
	Height 1
	Speed  0
	Damage 0
	Renderstyle Add
	Alpha 0.9
	+CORPSE
	+DONTSPLASH
	+NOGRAVITY
	+FORCEXYBILLBOARD
	-ACTIVATEPCROSS
	-ACTIVATEIMPACT
	States
	{
	Spawn:
		SPAR A 0
		SPAR A 0 A_Jump(164, "SpawnB", "SpawnC", "SpawnD", "SpawnE", "SpawnF", "SpawnG")
		SPAR A 1 Bright A_FadeOut(0.05)
		goto Spawn+2
	SpawnB:
		SPAR B 1 Bright A_FadeOut(0.03)
		loop
	SpawnC:
		SPAR C 1 Bright A_FadeOut(0.03)
		loop
	SpawnD:
		SPAR D 1 Bright A_FadeOut(0.03)
		loop
	SpawnE:
		SPAR E 1 Bright A_FadeOut(0.03)
		loop
	SpawnF:
		SPAR F 1 Bright A_FadeOut(0.03)
		loop
	SpawnG:
		SPAR G 1 Bright A_FadeOut(0.03)
		loop
	Death:
		TNT1 A 1 Bright
		TNT1 A 1 Bright
		Stop
	}
}

Actor SledgeHammerExplosionSmall
{
	Radius 1
	Height 1
	Speed  0
	Damage 0
	Scale 1.5
	+CORPSE
	+DONTSPLASH
	+NOGRAVITY
	+FORCEXYBILLBOARD
	-ACTIVATEPCROSS
	-ACTIVATEIMPACT
	States
	{
	Spawn:
		HBEX A 0
		HBEX A 0 A_Jump(127, "SpawnB", "SpawnC", "SpawnD", "SpawnE", "SpawnF")
		HBEX ABCDEFGHIJKLMNOP 4 Bright
		stop
	SpawnB:
		HBEX ABCDEFGHIJKLMNOP 2 Bright
		stop
	SpawnC:
		HBEX HIJKLMNOP 3 Bright
		stop
	SpawnD:
		HBEX HIJKLMNOP 2 Bright
		stop
	SpawnE:
		HBEX CDEFGHIJKLMNOP 3 Bright
		stop
	SpawnF:
		HBEX LMNOP 3 Bright
		stop
	Death:
		TNT1 A 1 Bright
		TNT1 A 1 Bright
		Stop
	}
}

Actor SledgeHammerExplosionLarge
{
	Radius 1
	Height 1
	Speed  0
	Damage 0
	Scale 4
	+CORPSE
	+DONTSPLASH
	+NOGRAVITY
	+FORCEXYBILLBOARD
	-ACTIVATEPCROSS
	-ACTIVATEIMPACT
	States
	{
	Spawn:
		HBEX ABCDEFGHIJKLMNOP 5 Bright
		stop
	Death:
		TNT1 A 1 Bright
		TNT1 A 1 Bright
		Stop
	}
}

actor SledgeHammerRocket
{
radius 14
height 14
speed 1
damage 36
Scale 1.5
SeeSound "SledgeHammerFire"
deathsound "MassiveExplosion"
obituary "%o was blasted away by %k's Sledgehammer Rockets"
PROJECTILE
+RANDOMIZE
+FORCEXYBILLBOARD
states
{
Spawn:
	DEVM A 1 bright A_SpawnItemEx("SledgeHammerTrail", -32, Random(-2, 2), Random(-2, 2), Random(0,-6), 0, 0, 0, 128, 0)
	DEVM A 0 bright A_ScaleVelocity(1.25)
	DEVM AAAAAA 0 bright A_SpawnItemEx("SledgeHammerTrail", -32, Random(-2, 2), Random(-2, 2), Random(0, -6), 0, 0, 0, 128, 0)
	loop
Death:
	MISL B 0 bright A_Explode(132, 256, 1)
	TNT1 A 0 bright A_SpawnItemEx("SledgeHammerExplosionLarge", 0, 0, 0, 0, 0, 0, 0, 128, 0)
	TNT1 AAAAAA 0 bright A_SpawnItemEx("SledgeHammerExplosionSmall", Random(-48, 48), Random(-48, 48), Random(-48, 48), 0, 0, 0, 0, 128, 0)
	TNT1 A 1
	TNT1 AAAAAA 0 bright A_SpawnItemEx("SledgeHammerExplosionSmall", Random(-48, 48), Random(-48, 48), Random(-48, 48), 0, 0, 0, 0, 128, 0)
	stop
}
}

actor RoflBoom 12362
{
	Radius 20
	Height 56
	Health 800
	Mass 1400
	+Solid
	+SHOOTABLE
	+NOBLOOD
	DeathSound "weapons/grenlx"
	States
	{
		Spawn:
		ROFL AB 6
		loop

		Death:
		TNT1 A 0 A_Scream
		TNT1 A 0 Bright A_CustomMissile("NukeRadiation", 32, 0, 0)
		NEXP A 0 A_Explode(600, 356)
		NEXP ABCDEFGHIJKLMNOPQRSTU 1 bright
		stop
	}
}

ACTOR MiniPalmTree 30001
{
	Radius 4
	Height 8
	Scale 0.08
	+SOLID
	+FORCEYBILLBOARD
	States
	{
	Spawn:
		PALM A -1
		Loop
	}
}

ACTOR SeaGull 30002
{
	Radius 2
	Height 2
	Scale 0.90
	+NOBLOCKMAP
	+NOGRAVITY
	States
	{
	Spawn:
		GULL ABCD 4
		Loop
	}
}

ACTOR BigPalmTree 30003
{
	Radius 16
	Height 162
	Scale 0.88
	+SOLID
	+FORCEYBILLBOARD
	States
	{
	Spawn:
		PALM A -1
		Loop
	}
}

actor ForceJump : CustomInventory 18635
{
	inventory.pickupmessage "Force Jump!"
	inventory.pickupsound "misc/p_pkup"
	inventory.icon ARTITHRU
	inventory.amount 5
	inventory.maxamount 30
	Scale 0.2
	Renderstyle Add
	Alpha 0.8
	+COUNTITEM
	+FLOATBOB
	+INVBAR
	States
	{
		Spawn:
			THRU A 1 Bright
			loop
		Use:
			TNT1 A 0 A_PlaySound("ForceThrust")
			TNT1 A 0 ThrustThingZ(0, 45, 0, 0)
			TNT1 A 0 A_Recoil(-16)
			TNT1 A 0 A_SpawnItem("ForceFX", 0, 24, 0, 0)
			stop
	}
}

actor PlasmaMist
{
	Projectile
	Radius 1
	Height 1
	Damage 0
	Speed 10
	Scale 0.18
	RenderStyle Add
	Alpha 1.0
	+FORCEXYBILLBOARD
	+DONTSPLASH
	-BLOODSPLATTER
	+BLOODLESSIMPACT
	States
	{
	Spawn:
		TNT1 A 0
		PLSE ABCDE 1 BRIGHT
		stop
	Death:
		TNT1 A 0
		TNT1 A 1
		stop
	}
}

actor FireRodTrail
{
Radius 1
Height 1
RenderStyle Add
Alpha 0.8
Scale .5
-SOLID
+NOGRAVITY
+CLIENTSIDEONLY
+ALLOWCLIENTSPAWN
+NOINTERACTION
+FORCEXYBILLBOARD
States
{
Spawn:
TNT1 A 2 BRIGHT
FORA ABCD 1 BRIGHT
FORA ABCD 1 BRIGHT A_Fadeout
goto Spawn+5
}
}


actor FireRodShot : FastProjectile
{
	Projectile
	Radius 8
	Height 8
	Damage 8
	DamageType "Fire"
	Speed 50
	obituary "%o was scorched by %k's Fire Rod"
	Alpha 1.0
	RenderStyle Add
	SeeSound "FireRod"
	DeathSound "vile/firecrkl"
	+FORCEXYBILLBOARD
	States
	{
	Spawn:
		RODF AABBCCDD 1 BRIGHT A_SpawnItemEx("FireRodTrail", random(-6,6), random(-6,6), random(-10,-6), random(-1,1), random(-1,1), random(-1,1), 0, 128, 0)
		loop
	XDeath:
		TNT1 A 0
		TNT1 A 0 A_GiveToTarget("HitConfirmation", 1)
		goto Death
	Death:
		TNT1 A 0 A_FadeOut(0.03)
		TNT1 A 0 A_Explode(4, 12)
		TNT1 A 1 A_SpawnItemEx("OrangeFloatingFlame", Random(-6,6), Random(-6,6), Random(-12, -8), Random(-0.5, 0.5), Random(-0.5, 0.5), Random(1, 3), Random(-360, 360), 128, 0)
		loop
	}
}

actor FreezeHit
{
	Scale 0.25
	Radius 1
	Height 1
	RenderStyle Add
	Alpha 0.7
	-SOLID
	+NOBLOCKMAP
	+DROPOFF
	+NOINTERACTION
	+FORCEXYBILLBOARD
	states
	{
		Spawn:
			FRZE ABCDEFGHIJKLMNOPQRSTUVWXYZ 1 BRIGHT
			FRZ2 ABCDEFGHI 1 BRIGHT
			stop
	}
}

actor CoolingSmoke
{
	Radius 6
	Height 6
	Speed 7
	Scale 0.4
	RenderStyle Add
	Alpha 0.4
	Projectile
	+GHOST
	+HEXENBOUNCE
	+THRUGHOST
	+CORPSE
	+FORCEXYBILLBOARD
	+DONTSPLASH
	+CLIENTSIDEONLY
	States
	{
		Spawn:
			TNT1 A 0
			TNT1 A 1 ThrustThingZ(0, Random(0, 2), random(0,1), 1)
			PUF2 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
			PUF3 ABC 1
			stop
	}
}

actor CoolingSmoke2
{
Radius 6
Height 6
Speed 7
Scale 0.25
RenderStyle Add
Alpha 0.4
Projectile
+GHOST
+HEXENBOUNCE
+THRUGHOST
+CORPSE
+FORCEXYBILLBOARD
+DONTSPLASH
+CLIENTSIDEONLY
States
{
Spawn:
TNT1 A 0
TNT1 A 1 ThrustThingZ(0, Random(0, 2), random(0,1), 1)
PUF2 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
PUF3 ABC 1
stop
}
}

actor SniperSmoke
{
	Radius 6
	Height 6
	Speed 5
	Scale 0.32
	RenderStyle Translucent
	Alpha 0.5
	Projectile
	+GHOST
	+HEXENBOUNCE
	+THRUGHOST
	+CORPSE
	+FORCEXYBILLBOARD
	+DONTSPLASH
	+CLIENTSIDEONLY
	States
	{
		Spawn:
			PUF2 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
			PUF3 ABC 1
			stop
	}
}

actor SniperSmokeSmall
{
	Radius 6
	Height 6
	Speed 4
	Scale 0.20
	RenderStyle Translucent
	Alpha 0.3
	Projectile
	+GHOST
	+HEXENBOUNCE
	+THRUGHOST
	+CORPSE
	+FORCEXYBILLBOARD
	+DONTSPLASH
	+CLIENTSIDEONLY
	States
	{
		Spawn:
			PUF2 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
			PUF3 ABC 1
			stop
	}
}

actor SniperSmokeSmall2
{
	Radius 6
	Height 6
	Speed 3
	Scale 0.18
	RenderStyle Translucent
	Alpha 0.3
	Projectile
	+GHOST
	+HEXENBOUNCE
	+THRUGHOST
	+CORPSE
	+FORCEXYBILLBOARD
	+DONTSPLASH
	+CLIENTSIDEONLY
	States
	{
		Spawn:
			PUF2 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
			PUF3 ABC 1
			stop
	}
}

actor ShotgunSmoke
{
	Radius 6
	Height 6
	Speed 6
	Scale 0.6
	RenderStyle Translucent
	Alpha 0.3
	Projectile
	+GHOST
	+HEXENBOUNCE
	+THRUGHOST
	+CORPSE
	+FORCEXYBILLBOARD
	+DONTSPLASH
	+CLIENTSIDEONLY
	States
	{
		Spawn:
			PUF2 ABCDEFGHIJKLMNOPQRSTUVWXYZ 1
			PUF3 ABC 1
			stop
	}
}

actor BarrelExplosion : BaseEffect
{
	RenderStyle "Add"
	Alpha 1.0
	Scale 0.18
	States
	{
		Spawn:
			XPLO ABCDEFGH 2 BRIGHT
			stop
	}
}

actor SM_ExplosiveBarrel : ExplosiveBarrel Replaces ExplosiveBarrel
{
	spawnid 125
	obituary "%o went boom."
	health 20
	radius 10
	height 34
	deathsound "world/barrelx"
	+SOLID
	+SHOOTABLE
	+NOBLOOD
	+DONTGIB
	+NOICEDEATH
	+CANNOTPUSH
	+PUSHABLE
	+SLIDESONWALLS
	+EXTREMEDEATH
	+FIXMAPTHINGPOS
	states
	{
	Spawn:
		BAR1 AB 6
		loop
	Death:
		BAR1 A 0 bright A_PlaySoundEx("FlameThrower", "Auto", 0)
		BAR1 AAAAAA 0 bright A_SpawnItemEx("FireCanFlame", random(-16, 16), random(-16, 16), random(1, 28), 0, 0, random(1,3), random(-180,180), SXF_CLIENTSIDE, 0)
		BAR1 AAAAAAAAAAAAAAAAAAAAAAAA 1 bright A_SpawnItemEx("FireCanFlame", random(-16, 16), random(-16, 16), random(1, 28), 0, 0, random(1,3), random(-180,180), SXF_CLIENTSIDE, 0)
		TNT1 A 0 BRIGHT A_Scream
		TNT1 A 0 BRIGHT radius_quake(3, 12, 0, 5, 0)
		TNT1 A 0 bright A_Explode(256, 128)
		TNT1 A 0 A_SpawnItemEX("Duke64ExplosionRing", 0, 0, 1, 0, 0, 0, 0, 128, 0)
		TNT1 AAAAAAAA 0 A_SpawnItemEX("GrenadeSpark", Random(-16,16), Random(-16,16), Random(0, 24), Random(-5,5), Random(-5,5), Random(6, 12), 0, SXF_CLIENTSIDE, 0)
		TNT1 AAAAAAAA 0 A_SpawnItemEX("BarrelExplosion", 0, 0, 24, 0, 0, 0, 0, SXF_CLIENTSIDE, 0)
		TNT1 AAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEX("BarrelExplosion", 0, 0, 24, Random(-6,6), Random(-6,6), Random(-6, 6), random(-180,180), SXF_CLIENTSIDE, 0)
		TNT1 A 10
		TNT1 A 1050 A_BarrelDestroy
		TNT1 A 5 A_Respawn
		wait
	}
}

actor NuclearBarrel : SM_ExplosiveBarrel 18003
{
	obituary "%o became a nuclear meatball."
	states
	{
	Death:
		BAR1 A 0 bright A_PlaySoundEx("FlameThrower", "Auto", 0)
		BAR1 AAAAAA 0 bright A_SpawnItemEx("FireCanFlame", random(-16, 16), random(-16, 16), random(1, 28), 0, 0, random(1,3), random(-180,180), SXF_CLIENTSIDE, 0)
		BAR1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 bright A_SpawnItemEx("FireCanFlame", random(-16, 16), random(-16, 16), random(1, 28), 0, 0, random(1,3), random(-180,180), SXF_CLIENTSIDE, 0)
		BAR1 AAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_SpawnItemEX("BarrelExplosion", 0, 0, 24, Random(-5,5), Random(-5,5), Random(-5, 5), random(-180,180), SXF_CLIENTSIDE, 0)
		TNT1 A 0 Radius_Quake(6, 32, 0, 20, 0)
		TNT1 A 0 A_PlaySoundEx ("NukeExplode", "Auto", 0, 0.6)
		TNT1 A 0 A_SpawnItemEx("NukeHuge", 0, 0, 0, 0, 0, 0, 0, 0, 0)
		TNT1 A 0 A_SpawnItemEx("NukeExplosionRing", 0, 0, 70, 0, 0, 0, 0, SXF_CLIENTSIDE, 0)
		TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("NukeHarmless", Random(-192, 192), Random(-192, 192), Random(128, 256), 0, 0, 0, 0, SXF_CLIENTSIDE, 0)
		TNT1 A 0 A_Explode(512, 512)
		TNT1 A 10
		TNT1 A 1050 A_BarrelDestroy
		TNT1 A 5 A_Respawn
		wait
	}
}

ACTOR FartBombs : CustomInventory 14221
{
inventory.pickupmessage "Fart Grenade"
inventory.pickupsound "misc/p_pkup"
inventory.icon ARTIFART
inventory.amount 1
inventory.maxamount 3
obituary "%o was out-farted by %k's fart bomb."
+FLOATBOB
+INVBAR
States
{
Spawn:
	FARG A -1
	Loop
Use:
	TNT1 A 10 A_FireCustomMissile("FartGrenade", 0, 0, 0, 5)
	stop
}
}

Actor FartCloud
{
	Projectile
	Radius 8
	Height 8
	explosionradius 45
	explosiondamage 10
	RenderStyle Add
	Alpha 0.4
	obituary "%o was out-farted by %k's fart bomb."
	Reactiontime 50
	+NOGRAVITY
	+NODAMAGETHRUST
	+HEXENBOUNCE
	+FORCERADIUSDMG
	+FORCEXYBILLBOARD
	+FLOATBOB
	States
	{
	Spawn:
		PSNE ABCDEFG 4 A_Explode
		PSNE A 0 A_Countdown
		Goto Spawn+3
	Death:
		PSNE ABCDEFG 4 A_Fadeout
		loop
	}
}

actor FartGrenade
{
	Projectile
	Speed 15
	Radius 16
	Height 24
	+DOOMBOUNCE
	-NOGRAVITY
	States
	{
	Spawn:
		FART ABCDEGH 4
		loop
	Death:
		FART E 0
		FART E 0 A_PlaySound("FartGrenade1") // Part1
		FART E 0 ThrustThing(Random(0, 255), Random(0, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 86 ThrustThingZ(0, Random(15, 30), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(0, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 86 ThrustThingZ(0, Random(15, 30), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(0, 5), 0, 0)

		TNT1 A 0 A_PlaySound("FartGrenade2")	// Part2
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 12 ThrustThingZ(0, Random(12, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(0, 5), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 12 ThrustThingZ(0, Random(12, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(0, 5), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 12 ThrustThingZ(0, Random(12, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(0, 5), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 15 ThrustThingZ(0, Random(12, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(0, 5), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 15 ThrustThingZ(0, Random(12, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(0, 5), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 18 ThrustThingZ(0, Random(12, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(0, 5), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 22 ThrustThingZ(0, Random(12, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(0, 5), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 35 ThrustThingZ(0, Random(12, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(0, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 86 ThrustThingZ(0, Random(15, 30), 0, 0)

		TNT1 A 0 A_PlaySound("FartGrenade3") // Part3
		FART E 0 ThrustThing(Random(0, 255), Random(0, 5), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 15 ThrustThingZ(0, Random(12, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(0, 5), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 15 ThrustThingZ(0, Random(12, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(0, 5), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 15 ThrustThingZ(0, Random(12, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(0, 5), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 18 ThrustThingZ(0, Random(12, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(0, 5), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 20 ThrustThingZ(0, Random(12, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(0, 5), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 22 ThrustThingZ(0, Random(12, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(0, 5), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 28 ThrustThingZ(0, Random(12, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(0, 5), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 35 ThrustThingZ(0, Random(12, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(0, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 60 ThrustThingZ(0, Random(15, 30), 0, 0)

		FART E 0 ThrustThing(Random(0, 255), Random(0, 5), 0, 0) // Part3
		TNT1 A 0 A_PlaySound("FartGrenade4")
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 10 ThrustThingZ(0, Random(12, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(0, 5), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 10 ThrustThingZ(0, Random(12, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(0, 5), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 10 ThrustThingZ(0, Random(12, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)

		FART E 0 ThrustThing(Random(0, 255), Random(0, 5), 0, 0) // Part5
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 10 ThrustThingZ(0, Random(12, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(0, 5), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 10 ThrustThingZ(0, Random(12, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(0, 5), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 10 ThrustThingZ(0, Random(12, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(0, 5), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 10 ThrustThingZ(0, Random(12, 20), 0, 0)

		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0) // Part6
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		FART E 5 ThrustThingZ(0, Random(0, 20), 0, 0)
		FART E 0 ThrustThing(Random(0, 255), Random(2, 10), 0, 0)
		FART E 0 A_CustomMissile("FartCloud", Random(24, 76), 0, 0, 6, 0)
		NEXP A 0 A_Explode(200, 256, 0)
		NEXP A 0 A_PlaySound("weapons/grenlx")
		NEXP A 0 A_NoGravity
		NEXP A 0 A_SetTranslucent(0.9, 1)
		NEXP A 0 A_Stop
		NEXP ABCDEFGHIJKLMNOPQRSTU 1 bright
		stop
	}
}

actor HolyMissile2 Replaces HolyMissile
{
	Radius 15
	Height 8
	Damage 4
	Speed 0
	Projectile
	-ACTIVATEIMPACT
	-ACTIVATEPCROSS
	+EXTREMEDEATH
	DamageType "Demonic"
	States
	{
		Spawn:
			SPIR PPPP 3 Bright A_SpawnItemEx("HolyMissilePuff")
		Death:
			SPIR PPP 0 A_CustomMissile ("HolySpirit2", 0.0, 0.0, frandom(-180, 180), CMF_TRACKOWNER | CMF_ABSOLUTEPITCH, 0.0) 
			SPIR P 1 Bright
			Stop
	}
}

actor HolySpirit2 Replaces HolySpirit
{
	Projectile
	Speed 14
	Radius 10
	Height 6
	Damage 3
	RenderStyle Add
	Alpha 0.9
	DamageType "Demonic"
	DeathSound "SpiritDie"
	obituary "%o was devoured by %k's wicked spirits"
	-BLOODSPLATTER
	+BLOODLESSIMPACT
	+LOOKALLAROUND
	+RIPPER
	+CANBLAST
	+SEEKERMISSILE
	+FOILINVUL
	+SKYEXPLODE
	+NOEXPLODEFLOOR
	+EXTREMEDEATH
	var int user_time;
	States
	{
		Spawn:
			TNT1 A 0
			TNT1 A 0 A_SetUserVar("user_time", random(30, 60))
			goto Fly
		Fly:
			SPIR A 1 BRIGHT A_Weave(random(1,4), random(1,4), random(1,2), random(1,3))
			TNT1 A 0 BRIGHT A_SeekerMissile (2.0, 4.0, SMF_LOOK | SMF_PRECISE, 256, 10)	
			TNT1 A 0 BRIGHT A_SpawnItemEx("SpiritTrail", 0, 0, 0, 0, 0, 0, 0, SXF_CLIENTSIDE, 0)
			SPIR A 1 BRIGHT A_Weave(random(1,4), random(1,4), random(1,2), random(1,3)) 
			TNT1 A 0 BRIGHT A_SeekerMissile (2.0, 4.0, SMF_LOOK | SMF_PRECISE, 256, 10)
			TNT1 A 0 BRIGHT A_SpawnItemEx("SpiritTrail", 0, 0, 0, 0, 0, 0, 0, SXF_CLIENTSIDE, 0)
			SPIR B 1 BRIGHT A_Weave(random(1,4), random(1,4), random(1,2), random(1,3)) 
			TNT1 A 0 BRIGHT A_SeekerMissile (2.0, 4.0, SMF_LOOK | SMF_PRECISE, 256, 10)
			TNT1 A 0 BRIGHT A_SpawnItemEx("SpiritTrail", 0, 0, 0, 0, 0, 0, 0, SXF_CLIENTSIDE, 0)
			SPIR B 1 BRIGHT A_Weave(random(1,4), random(1,4), random(1,2), random(1,3)) 
			TNT1 A 0 BRIGHT A_SeekerMissile (2.0, 4.0, SMF_LOOK | SMF_PRECISE, 256, 10)
			TNT1 A 0 BRIGHT A_SpawnItemEx("SpiritTrail", 0, 0, 0, 0, 0, 0, 0, SXF_CLIENTSIDE, 0)
			TNT1 A 0 BRIGHT A_SetUserVar("user_time", user_time-1)
			TNT1 A 0 BRIGHT A_JumpIf(user_time <= 0, "Death")
			TNT1 A 0 BRIGHT A_Jump(32, "SpiritScream" )
			Loop
		SpiritScream:
			SPIR A 0 A_PlaySound("SpiritActive")
			goto Fly
		Death:
			SPIR D 0 BRIGHT
			SPIR D 3 BRIGHT A_Stop
			SPIR E 3 BRIGHT A_Scream
			SPIR FGHI 3 BRIGHT
			Stop
	}
}

actor SpiritTrail : BaseEffect
{
	RenderStyle Add
	Alpha 0.9
	States
	{
		Spawn:
			TNT1 A 1
			TNT1 A 0 A_Jump(256, "Trail1", "Trail2")
		Trail1:
			SPIR C 1 BRIGHT A_Fadeout(0.0625)
			loop
		Trail2:
			SPIR D 1 BRIGHT A_Fadeout(0.0625)
			loop
	}
}

actor EnemyShip 16771
{
	Monster
	Radius 64
	Height 56
	Speed 20
	DamageFactor "ServoLaser", 0.4
	DamageFactor "Electric", 2.0
	FloatSpeed 20
	Health 500
	Mass 500
	Scale 1.5
	ReactionTime 8
	MeleeRange 300
	Painchance 18
	PainSound "SpaceShipHit"
	ActiveSound "EnemyShipEngine"
	+NOGRAVITY
	+FLOAT
	+DROPOFF
	+NOBLOCKMONST
	+FLOATBOB
	+MISSILEMORE
	+MISSILEEVENMORE
	+LOOKALLAROUND
	+QUICKTORETALIATE
	+NOTARGET
	+NOBLOOD
	-FRIGHTENED
	+DONTRIP
	+NOINFIGHTING
	+NEVERRESPAWN
	States
	{
	Spawn:
		ENSH A 1 A_Look
		loop
	See:
		ENSH AAAAAAAAAAAAAAA 1 A_Chase
		ENSH A 0 ThrustThingZ(0, Random(0, 32), Random(0, 1), 0)
		loop
	Missile:
		ENSH A 0 A_FaceTarget
		ENSH A 1 BRIGHT A_CustomMissile("EnemyValkrieShot", 0, 0, 0)
		goto See
	Melee:
		ENSH A 0 A_FaceTarget
		ENSH A 1 A_Recoil(20)
		ENSH A 0 A_PlaySound("ShipThrust")
		ENSH AAAAAA 0 A_SpawnItemEX("RocketFire", Random(-8, 8), Random(-8, 8), Random(-8, 8), Random(2, 5), Random(2, 5), Random(2, 5), Random(-360, 360), 128, 0)
		ENSH AAAAAAAAAA 2 A_SpawnItemEX("RocketFire", Random(-8, 8), Random(-8, 8), Random(-8, 8), Random(2, 5), Random(2, 5), Random(2, 5), Random(-360, 360), 128, 0)
		ENSH A 0 A_CustomMissile("EnemyValkrieShot", 0, 0, 0)
		ENSH AAAAAAAAAAAAAA 2 A_SpawnItemEX("RocketFire", Random(-8, 8), Random(-8, 8), Random(-8, 8), Random(2, 5), Random(2, 5), Random(2, 5), Random(-360, 360), 128, 0)
		ENSH A 0 A_CustomMissile("EnemyValkrieShot", 0, 0, 0)
		ENSH A 0 A_Stop
		goto See
	Pain:
		ENSH AA 1 A_Pain
		goto See
	Death:
		ENSH A 0 A_Stop
		ENSH A 0 A_LowGravity
		ENSH AAAAA 0 A_SpawnItemEX("ShipBurnSmoke", Random(-8,8), Random(-8,8), Random(-8,8), 0, 0, 0, 0, 128, 0)
		ENSH A 6 A_SpawnItemEX("ShipBurnTrail", 0, 0, 0, 0, 0, 0, 0, 128, 0)
		goto Death+2
	Crash:
		TNT1 A 0 A_Explode
		TNT1 A 0 A_PlaySound("weapons/grenlx")
		TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAA 3 A_SpawnItemEX("DukeExplosion", Random(-32, 32), Random(-32, 32), Random(0, 32), 0, 0, 0, 0, 0, 0)
		stop
	}
}

actor EnemyValkrieShot
{
	Radius 8
	Height 8
	Projectile
	obituary "%o was shot down by an enemy spacecraft"
	Speed 50
	Scale 0.8
	SeeSound "ValkrieFire"
	Damage 6
	States
	{
	Spawn:
		VALK A 1 BRIGHT A_CustomMissile("ValkrieTrail", 0, 0, 0)
		loop

	Death:
		TNT1 A 0
		TNT1 A 1 A_CustomMissile("ValkrieHit", 0, 0, 0)
		stop
	}
}

actor ShipBurnTrail
{
	Height 1
	Radius 1
	Speed 0
	RenderStyle Add
	Alpha 0.8
	Scale 0.5
	Projectile
	-MISSILE
	+FORCEXYBILLBOARD
	States
	{
	Spawn:
		DEXP ABCDEFGHIJKLMNOPQRSTU 2 BRIGHT
		stop
	}
}

actor ShipBurnSmoke
{
	Radius 6
	Height 6
	Speed 0
	Scale 0.5
	RenderStyle Translucent
	Alpha 0.5
	Projectile
	+GHOST
	+HEXENBOUNCE
	+THRUGHOST
	+CORPSE
	+FORCEXYBILLBOARD
	+DONTSPLASH
	States
	{
		Spawn:
			PUF2 FGHIJKLMNOPQRSTUVWXYZ 1
			PUF3 ABC 1
			stop
	}
}

ACTOR VilesBane : CustomInventory
{
	inventory.pickupmessage "Vile's Bane"
	inventory.pickupsound "misc/i_pkup"
	inventory.icon ICONVILE
	inventory.amount 1
	inventory.maxamount 5
	+INVBAR
	+FLOATBOB
	+INVENTORY.HUBPOWER
	-INVENTORY.INTERHUBSTRIP
	States
	{
	Spawn:
		VBAN A -1
		Loop
	Use:
		TNT1 A 0 A_PlayWeaponSound("skeleton/swing")
		TNT1 A 10 A_FireCustomMissile("VilesBaneSyringe", 0, 0, 0, 1)
		stop
	}
}

actor VilesBaneSyringe
{
	Projectile
	Radius 1
	Height 1
	Damage 2
	Speed 50
	DamageType "VilesBane"
	Obituary "%k stabbed %o with a Syringe."
	DeathSound "JunkSmack"
	+NOEXTREMEDEATH
	+SEEKERMISSILE
	States
	{
	Spawn:
		WB3P ABCD 2 A_Tracer2
		loop
	Death:
		TNT1 A 1
		TNT1 A 1
		stop
	}
}

actor Kamikaze : Inventory 19312
{
	inventory.amount 1
	inventory.maxamount 1
	inventory.pickupmessage "Picked up the Kamikaze Artifact!"
	-INVBAR
	-INTERHUBSTRIP
	+INVENTORY.UNDROPPABLE
	+INVENTORY.HUBPOWER
	+FLOATBOB
	+NOGRAVITY
	Scale 0.4
	states
	{
	Spawn:
		KAMA ABCDEDCB 5 BRIGHT
		loop
	}
}

actor ScreamingKamikazeSoul
{
	Radius 8
	Height 8
	Scale 0.9
	RenderStyle Add
	Alpha 1.0
	+NOCLIP
	+NOGRAVITY
	States
	{
		Spawn:
		KAMA F 0
		KAMA F 8 BRIGHT A_PlaySound("KamikazeExpel")
		KAMA F 1 BRIGHT A_FadeOut(0.04)
		goto Spawn+2
	}
}

actor KamikazeExplode
{
	Projectile
	radius 1
	height 1
	speed 0
	obituary "%k blew up in %o's face. Bet he didn't see that one coming!"
	+HEXENBOUNCE
	states
	{
	Death:
	Spawn:
		TNT1 A 0
		TNT1 A 0 bright A_PlaySound("MassiveExplosion")
		TNT1 A 0 bright A_Explode(384, 256, 1)
		TNT1 A 0 bright A_SpawnItemEx("SledgeHammerExplosionLarge", 0, 0, 0, 0, 0, 0, 0, 128, 0)
		TNT1 AAAAAA 0 bright A_SpawnItemEx("SledgeHammerExplosionSmall", Random(-48, 48), Random(-48, 48), Random(-48, 48), 0, 0, 0, 0, 128, 0)
		TNT1 AAAAAA 0 bright A_SpawnItemEx("SledgeHammerExplosionSmall", Random(-48, 48), Random(-48, 48), Random(-48, 48), 0, 0, 0, 0, 128, 0)
		TNT1 A 1
		stop
	}
}

actor HangingSpaceMarine : CommanderKeen Replaces CommanderKeen
{
	dropitem "Noisy_Cricket", 5
	dropitem "454Casull", 15
	dropitem "FusionAmmo", 10
	dropitem "FusionAmmo", 10
	-ISMONSTER
	states
	{
		Spawn:
			HMAR A -1
			Loop
		Death:
			HMAR AB 3
			HMAR C	3 A_Scream
			HMAR DEFGH	3
			HMAR I	4 A_NoBlocking
			HMAR J	4
			HMAR K	4 A_KeenDie
			HMAR L	 -1
			Stop
		Pain:
			HMAR M 4
			HMAR M 8 A_Pain
			Goto Spawn
	}
}

actor FlareSpark : RedEmber
{
	RenderStyle Add
	Gravity 0.3
	Alpha 1.0
	Scale 0.05
	-NOGRAVITY
	States
	{
		Spawn:
			SEMB A 1 BRIGHT A_FadeOut(0.1)
			loop
	}
}

actor FlareSpark2 : FlareSpark
{
	States
	{
		Spawn:
			REMB A 1 BRIGHT A_FadeOut(0.1)
			loop
	}
}

actor FlareSmoke : Duke64GrenadeSmoke
{
	Scale 0.3
}

actor Flare : MapMarker
{
	Projectile
	Radius 4
	Height 4
	Speed 50
	Damage 1
	Obituary "%o was burned by %k's flare"
	DamageType "Fire"
	-NOGRAVITY
	-INVISIBLE
	+DONTSPLASH
	+FORCEXYBILLBOARD
	+NODAMAGETHRUST
	+DONTREFLECT
	Gravity 0.6
	Scale 0.1
	States
	{
		Spawn:
			YEMB A 0 BRIGHT
			YEMB A 0 BRIGHT A_PlaySound("FlareThrow", CHAN_AUTO)
			YEMB A 0 BRIGHT A_PlaySoundEx("FlareBurn", "auto", 1, -1)
			goto Burn
		Burn:
			YEMB A 0 BRIGHT A_SpawnItemEx("FlareSmoke", random(-8,8), random(-8,8), random(0,8), 0, 0, Random(1, 3), 0, 128, 128)
			YEMB A 0 BRIGHT A_SpawnItemEx("SilverEmber", random(-4,4), random(-4,4), random(-4,4), 0, 0, 1, 0, 128, 200)
			YEMB A 0 BRIGHT A_SpawnItemEx("FlareSpark2", 0, 0, 0, random(-2,2), random(-2,2), random(-2,2), 0, 128, 224)
			YEMB AAA 0 BRIGHT A_SpawnItemEx("FlareSpark", 0, 0, 0, random(-2,2), random(-2,2), random(-2,2), 0, 128, 0)
			YEMB A 1 BRIGHT
			YEMB A 0 BRIGHT A_JumpIfInTargetInventory("FlareCheck", 95, "FizzleOut")
			YEMB A 0 A_Explode(1, 32, 0, false, 32)
			YEMB A 0
			loop
		FizzleOut:
			TNT1 AAAAAAAAAA 0 BRIGHT A_SpawnItemEx("FlareSpark", 0, 0, 0, random(-2,2), random(-2,2), random(-2,2), 0, 128, 0)
			TNT1 AAAAAA 0 BRIGHT A_SpawnItemEx("SilverEmber", random(-4,4), random(-4,4), random(-4,4), 0, 0, 1, 0, 128, 100)
			TNT1 AAAAAAAAAA 0 BRIGHT A_SpawnItemEx("FlareSmoke", random(-8,8), random(-8,8), random(-8,8), Random(-3, 3), Random(-3, 3), Random(-3, 3), 0, 128, 32)
			stop
		Death:
			YEMB A 0 BRIGHT A_NoGravity
			YEMB A 0 BRIGHT A_Stop
			goto Burn
		XDeath:
			YEMB A 0 BRIGHT A_Gravity
			YEMB A 0 BRIGHT
			goto Burn
	}
}

actor ElectricArcBall
{
	Radius 8
	Height 16
	+NOINTERACTION
	+NOGRAVITY
	+NOBLOCKMAP
	States
	{
		Spawn:
			TNT1 A 1 A_SpawnItemEx("ElectricArc", 0, 0, 0, 0, 0, 0, random(-360, 360), SXF_CLIENTSIDE, 0)
			loop
	}
}

actor Fooby
{
	Projectile
	Radius 10
	Height 20
	Speed 30
	Scale 0.32
	States
	{
		Spawn:
			FOOB A 0
			FOOB A 0 A_PlaySoundEx("Fooby2", "auto", 0, 0.99)
			FOOB AB 2
			goto Spawn+2
		Death:
			TNT1 A 1 A_PlaySoundEx("Fooby3", "auto", 0, 0.99)
			stop
	}
}

actor PlaneGuy : Fooby
{
	Scale 0.25
	States
	{
		Spawn:
			TDCK A 1
			loop
		Death:
			TNT1 A 0 A_PlaySoundEx("TechPlasmaSuperBoom", "auto", 0, 2)
			TNT1 A 0 A_Explode(9999, 128)
			TNT1 A 0 ACS_Execute(7, 0)
			TNT1 AAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("PlaneFire", 0, 0, 0, random(-16, 16), random(-16, 16), random(-16, 16), random(-360, 360), SXF_CLIENTSIDE, 0)
			TNT1 AAAAA 1 A_SpawnItemEx("PlaneFire", 0, 0, 0, random(-10, 10), random(-10, 10), random(-10, 10), random(-360, 360), SXF_CLIENTSIDE, 0)
			stop
	}
}

actor MolotovAlcohol : Gasoline
{
	obituary "%o can't handle %k's cocktail."
	States
	{
		Crash:
			TNT1 A 1 A_SpawnItemEx("MolotovAlcoholPuddle", frandom(-4.0, 4.0), frandom(-4.0, 4.0), 0, 0, 0, 0, 0, SXF_TRANSFERPOINTERS, 0)
			stop
	}
}

actor MolotovAlcoholPuddle : GasPuddle
{
	obituary "%k gave %o a flaming alcohol bath."
}

actor MolotovFlames : IgnitedSurface
{
	obituary "%o can't handle %k's cocktail."
	Speed 4
	States
	{
	Spawn:
		TNT1 A 0 A_CountDown
		TNT1 A 0 A_SpawnItemEx("BasicFlame", random(-10,10), Random(-10,10), 0, 0, 0, Random(1, 2), 0, 128, 64)
		TNT1 A 2 A_Explode(8, 24, 1)
		TNT1 A 0 A_JumpIf(waterlevel == 3, "Disappear")
		loop
	}
}

actor MolotovFlames2 : MolotovFlames
{
	Speed 0
}

ACTOR Bottlex
{
	Projectile
	DeathSound "weapons/bottle"
	Obituary "%o can't handle %k's cocktail."
	Scale 0.25
	Radius 12
	Height 8
	Speed 30
	Damage (20)
	DamageType "Fire"
	-NOTELEPORT
	-NOGRAVITY
	+NODAMAGETHRUST
	+FORCERADIUSDMG
	States
	{
	Spawn:
		MOGT A 0
		MOGT A 0 ThrustThingZ(0, 18, 0, 1)
		MOGT A 0 A_PlaySoundEx("FlameThrower", "Auto", 0)
		MOGT ABCDE 1 A_SpawnItemEx("MolotovTrail", Random(-4,4), Random(-4,4), Random(14,18), 0, 0, 0, 0, 128, 0)
		goto Spawn+3
	Death:
		TNT1 A 0
		TNT1 A 0 A_Explode(32, 80)
		TNT1 AAAAAAAAAAAAAAA 0 A_SpawnItemEx("MolotovGlass", 0, 0, 0, Random(-8,8), Random(-8,8), Random(0,16), random(-180,180), SXF_CLIENTSIDE, 0)
		TNT1 AAAAAAAA 0 A_CustomMissile("MolotovFlames", 1, 0, random(-180, 180), CMF_AIMDIRECTION | CMF_TRACKOWNER, random(8, 90))
		TNT1 A 1
		TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_CustomMissile("MolotovAlcohol", 1, 0, random(-180, 180), CMF_AIMDIRECTION | CMF_TRACKOWNER, random(4, 90))
		TNT1 A 1
		Stop
	}
}