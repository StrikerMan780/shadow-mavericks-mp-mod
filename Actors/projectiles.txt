actor NeedlerCrystal
{
  Decal Needler
  Projectile
  Height 5
  Radius 5
  Speed 78
  Damage 3
  Scale 0.5
  RenderStyle Add
  Alpha 0.8
  seesound "NeedlerFire"
  deathsound "NeedlerHit"
  +BLOODSPLATTER
  -BLOODLESSIMPACT
  +FORCEXYBILLBOARD
  States
  {
  Spawn:
  	GLSS A 0
  	GLSS A 0 ThrustThingZ(0, random(0, 8), random(0,1), 1)
	GLSS A 1 BRIGHT
	goto Spawn+2
  XDeath:
	TNT1 A 0
	TNT1 A 0 A_GiveToTarget("HitConfirmation", 1)
	goto Death
  Death:
	TNT1 A 0
	TNT1 A 0 A_Scream
	TNT1 AA 0 A_CustomMissile ("NeedlerShard", 0, 0, Random(-360, 360), 6, Random(-360, 360))
	TNT1 AA 1
	stop
  }
}

actor NeedlerShard
{
  Projectile
  Height 2
  Radius 2
  Scale 0.5
  Speed 3
  Damage 2
  BounceCount 2
  BounceFactor 0.8
  RenderStyle Add
  Alpha 0.8
  ReactionTime 200
  +DOOMBOUNCE
  +BLOODSPLATTER
  +FORCEXYBILLBOARD
  -BLOODLESSIMPACT
  -NOGRAVITY
  States
  {
  Spawn:
	BSHD ABCDEF 1 BRIGHT A_CountDown
	loop
  Death:
	BSHD F 2 BRIGHT A_FadeOut
	loop
  }
}

actor EnemyNeedlerCrystal : NeedlerCrystal
{
	decal Needler
	OBITUARY "%o was spiked by a Needler Troop."
	Speed 60
	Damage 2
	+FORCEXYBILLBOARD
}